{"version":3,"sources":["webpack:///src/views/game/gameType.vue","webpack:///./src/views/game/gameType.vue?27bc","webpack:///./src/views/game/gameType.vue"],"names":["gameType","CommonTag","CommonQuery","_this","this","value2","value1","tableHeight","value","getTableData","_this2","pagination","queryModel","then","response","list","total","val","_this3","resetTemp","resetFields","clearValidate","updateData","_this4","scope","row","endDate","_this5","id","name","status","topNumber","error","_this6","file","url","_this7","resolve","clearFiles","length","index2","type","iosEnable","androidEnable","version","availabilityFormData","expandQuery","render","_vm","_h","$createElement","_c","_self","staticClass","slot","directives","rawName","attrs","size","icon","on","click","handleCreate","_v","keyup","$event","_k","keyCode","key","search","expression","placeholder","domProps","input","target","composing","$set","listLoading","modifiers","body","data","tableList","element-loading-text","border","fit","highlight-current-row","height","label","width","align","fixed","prop","scopedSlots","_u","fn","_s","statusDictionary","filter","item","code","disabled","handleUpdate","background","current-page","page","page-sizes","page-size","limit","layout","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","title","textMap","dialogStatus","visible","dialogFormVisible","update:visible","justify","span","ref","rules","model","formData","label-position","label-width","callback","$$v","_l","min","$t","createData","_withStripped","esExports","staticRenderFns","game_gameType","Component","__webpack_require__","normalizeComponent","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/22.c7a18ec902fc65202f49.js","sourcesContent":["<\r\n<template>\r\n  <el-row class=\"app-container\">\r\n    <CommonQuery>\r\n      <template slot=\"button1\">\r\n        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate\" v-waves>\r\n          新增\r\n        </el-button>\r\n      </template>\r\n      <template slot=\"query1\">\r\n        <div class=\"common-search-wrapper\" @keyup.enter=\"search\">\r\n          <input v-model=\"queryModel.name\" type=\"text\" placeholder=\"请输入游戏名称\"/>\r\n          <a>\r\n            <span @click=\"search\" class=\"el-icon-search\"></span>\r\n          </a>\r\n        </div>\r\n      </template>\r\n    </CommonQuery>\r\n\r\n    <el-table :data=\"tableList\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit\r\n              highlight-current-row\r\n              :height=\"tableHeight\">\r\n      <el-table-column label=\"No\" type=\"index\" width=\"50\" align=\"center\" fixed></el-table-column>\r\n      <el-table-column label=\"名称\" align=\"center\" prop=\"name\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"游戏状态\" prop=\"status\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.status===0?'info':'success'\">\r\n            {{(scope.row.status!==''&&scope.row.status!==null)?statusDictionary.filter(item=>item.code===scope.row.status)[0].name:''}}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\" width=\"200px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope)\" disabled>编辑</el-button>\r\n          <!--<el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope)\">删除</el-button>-->\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <div class=\"common-pagination-wrapper\">\r\n      <el-pagination background @size-change=\"handleSizeChange\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     :current-page.sync=\"pagination.page\"\r\n                     :page-sizes=\"[10,20,30,50]\"\r\n                     :page-size=\"pagination.limit\"\r\n                     :total=\"total\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 弹框 -->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width=\"850px\">\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col :span=\"20\">\r\n\r\n          <el-form :rules=\"rules\" ref=\"formData\" :model=\"formData\" label-position=\"right\" label-width=\"140px\">\r\n            <el-form-item label=\"名称\" prop=\"name\">\r\n              <el-input v-model=\"formData.name\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item label=\"status\" prop=\"status\">\r\n              <el-select v-model=\"formData.status\">\r\n                <el-option v-for=\"item in statusDictionary\" :label=\"item.name\" :value=\"item.code\"\r\n                           :key=\"item.code\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"置顶数\" prop=\"topNumber\">\r\n              <el-input-number v-model=\"formData.topNumber\" :min=\"0\" label=\"描述文字\"></el-input-number>\r\n            </el-form-item>\r\n\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\" v-waves>{{$t('table.cancel')}}</el-button>\r\n        <el-button v-if=\"dialogStatus==='create'\" type=\"primary\" @click=\"createData\">{{$t('table.confirm')}}</el-button>\r\n        <el-button v-else type=\"primary\" @click=\"updateData\" v-waves>{{$t('table.confirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>`\r\n\r\n<script>\r\n  import CommonTag from '@/views/common/CommonTag.vue'\r\n  import CommonQuery from '@/views/common/CommonQuery.vue'\r\n\r\n  export default {\r\n    components: {\r\n      CommonTag,\r\n      CommonQuery\r\n    },\r\n    data() {\r\n      return {\r\n        game_typeListRequest: 'game-service/1.0.0/game_type/list',\r\n        game_typeAddOrUpdateRequest: 'game-service/1.0.0/game_type/addOrUpdate',\r\n        game_typeDeleteRequest: 'game-service/1.0.0/game_type/delete',\r\n\r\n        value2: '',\r\n        value1: '',\r\n        tableKey: 0,\r\n        tableList: [],\r\n        total: null,\r\n        listLoading: true,\r\n        availabilityFlag: false,\r\n        dynamicTags: ['标签一', '标签二', '标签三'],\r\n        queryModel: {\r\n          \"title\": '',\r\n          \"status\": '',\r\n          \"name\": '',\r\n          \"gender\": '',\r\n          \"birthday\": '',\r\n        },\r\n        natureDictionary: [{\r\n          code: 1,\r\n          name: 'app'\r\n        }, {\r\n          code: 2,\r\n          name: '网页'\r\n        }],\r\n        statusDictionary: [{\r\n          code: 0,\r\n          name: '未上线'\r\n        }, {\r\n          code: 1,\r\n          name: '上线'\r\n        }],\r\n        pagination: {\r\n          page: 1,\r\n          limit: 20,\r\n        },\r\n        importanceOptions: [1, 2, 3],\r\n        sortOptions: [{label: 'ID Ascending', key: '+id'}, {label: 'ID Descending', key: '-id'}],\r\n        statusOptions: ['published', 'draft', 'deleted'],\r\n        showReviewer: false,\r\n        formData: {\r\n          id: 0,\r\n          name: '',\r\n          \"title\": \"\",\r\n          \"description\": '',\r\n          \"iconUrl\": \"\",\r\n          \"bigImageUrl\": \"\",\r\n          \"iosDownloadUrl\": \"\",\r\n          androidDownloadUrl: '',\r\n          webGameUrl: '',\r\n          nature: \"\",\r\n          ios: false,\r\n          android: false,\r\n          status: null\r\n        },\r\n        dialogFormVisible: false,\r\n        dialogStatus: '',\r\n        textMap: {\r\n          update: 'Edit',\r\n          create: 'Create'\r\n        },\r\n        dialogPvVisible: false,\r\n        availabilityFormData: {\r\n          moduleId: '',\r\n          type: '',\r\n          iosEnable: '',\r\n          androidEnable: '',\r\n          version: ''\r\n        },\r\n        rules: {\r\n          title: [{required: true, message: '请输入显示名称', trigger: 'change'}],\r\n          name: [{required: true, message: '请输入唯一表示名称', trigger: 'change'}],\r\n          description: [{required: true, message: '请输入游戏描述', trigger: 'change'}],\r\n          iconUrl: [{required: true, message: '请上传图片', trigger: 'change'}],\r\n          bigImageUrl: [{required: true, message: '请上传图片', trigger: 'change'}],\r\n          iosDownloadUrl: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n          androidDownloadUrl: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n          webGameUrl: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n          nature: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n          ios: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n          android: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n          status: [{required: true, message: '此项为必填项', trigger: 'change'}],\r\n        },\r\n        downloadLoading: false,\r\n        pickerOptions0: {\r\n          disabledDate: (time) => {\r\n            if (this.value2 !== '') {\r\n              return time.getTime() > this.value2\r\n            }\r\n          }\r\n        },\r\n        pickerOptions1: {\r\n          disabledDate: (time) => {\r\n            return time.getTime() < this.value1\r\n          }\r\n        },\r\n        fileList: [],\r\n        portraitParams: {\r\n          bucketName: 'funyvalley',\r\n          folderName: 'icon'\r\n        },\r\n        iosVersionListData: [],\r\n        androidVersionListData: [],\r\n        searchTxt: '',\r\n        expandQuery: '',\r\n\r\n      }\r\n    },\r\n    computed: {\r\n      tableHeight() {\r\n        return this.$store.state.app.tableHeight;\r\n      }\r\n    },\r\n    watch: {\r\n      effectiveDuration(value) {\r\n        console.log(value)\r\n        if (value === null) {\r\n          value = [];\r\n        }\r\n        this.formData.startDate = this.$moment(value[0]).format('YYYY-MM-DD');\r\n        this.formData.endDate = this.$moment(value[1]).format('YYYY-MM-DD');\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getTableData()\r\n    },\r\n    methods: {\r\n      getTableData() {\r\n        this.listLoading = true;\r\n        this.queryModel = Object.assign(this.queryModel, this.pagination);\r\n        this.$http.get(this.$baseUrl + this.game_typeListRequest, {\r\n          params: this.queryModel\r\n        }).then(response => {\r\n          console.log(response)\r\n\r\n          this.tableList = response.list;\r\n          this.total = response.total;\r\n          this.listLoading = false\r\n        })\r\n      },\r\n      handleFilter() {\r\n        this.pagination.page = 1;\r\n        this.getTableData()\r\n      },\r\n      handleSizeChange(val) {\r\n        this.pagination.limit = val;\r\n        this.getTableData()\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pagination.page = val;\r\n        this.getTableData()\r\n      },\r\n      resetTemp() {\r\n        this.formData = {\r\n          id: 0,\r\n          name: '',\r\n          \"title\": \"\",\r\n          \"description\": '',\r\n          \"iconUrl\": \"\",\r\n          \"bigImageUrl\": \"\",\r\n          \"iosDownloadUrl\": \"\",\r\n          androidDownloadUrl: '',\r\n          webGameUrl: '',\r\n          nature: \"\",\r\n          ios: false,\r\n          android: false,\r\n          status: null\r\n        };\r\n        this.fileList = []\r\n      },\r\n      handleCreate() {\r\n        this.resetTemp();\r\n        this.dialogStatus = 'create';\r\n        this.dialogFormVisible = true;\r\n        if (this.$refs.formData !== undefined) {\r\n          this.$refs.formData.resetFields();\r\n          this.$nextTick(() => {\r\n            this.$refs['formData'].clearValidate()\r\n          })\r\n        }\r\n      },\r\n      createData() {\r\n        this.formData.id = 0;\r\n        this.updateData();\r\n      },\r\n      handleUpdate(scope) {\r\n        console.log(scope)\r\n        this.formData = Object.assign({}, scope.row);\r\n        this.effectiveDuration = [scope.row.startDate, scope.row.endDate]\r\n\r\n        this.dialogStatus = 'update';\r\n        this.dialogFormVisible = true;\r\n        this.$nextTick(() => {\r\n          this.$refs['formData'].clearValidate()\r\n        })\r\n      },\r\n      updateData() {\r\n        this.$refs['formData'].validate((valid) => {\r\n          if (valid) {\r\n            this.$http.post(this.$baseUrl + this.game_typeAddOrUpdateRequest, {\r\n              id: this.formData.id,\r\n              name: this.formData.name,\r\n              status: this.formData.status,\r\n              topNumber: this.formData.topNumber\r\n            }).then((response) => {\r\n              console.log(response)\r\n              this.dialogFormVisible = false;\r\n              this.$message.success('信息修改成功');\r\n              this.getTableData();\r\n            }).catch(error => {\r\n              console.log(error)\r\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n            })\r\n          }\r\n        });\r\n      },\r\n      handleDelete(scope) {\r\n        this.$confirm('确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$http.delete(this.$baseUrl + this.game_typeDeleteRequest+`/${scope.row.id}`).then((response) => {\r\n            console.log(response)\r\n            this.dialogFormVisible = false;\r\n            this.$message.success('删除成功');\r\n            this.getTableData();\r\n          }).catch(error => {\r\n            console.log(error)\r\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n          })\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n      },\r\n      changeUpload(file) {\r\n        console.log(file)\r\n      },\r\n      handlePreview(file) {\r\n        console.log(file);\r\n        this.fileList.push(file);\r\n      },\r\n      uploadSuccess1(response) {\r\n        this.loading = false;\r\n        console.log(response)\r\n        this.formData.iconUrl = response.url;\r\n        this.loading = false;\r\n        this.$message({\r\n          message: '图片上传成功',\r\n          type: 'success'\r\n        });\r\n      },\r\n      uploadSuccess2(response) {\r\n        this.loading = false;\r\n        console.log(response)\r\n        this.formData.bigImageUrl = response.url;\r\n        this.loading = false;\r\n        this.$message({\r\n          message: '图片上传成功',\r\n          type: 'success'\r\n        });\r\n      },\r\n      uploadAvatarExceeded(files, fileList) {\r\n        if (fileList.length > 0) {\r\n          this.$confirm('当前已有上传图片，需先删除已有图片，请确认是否删除？', '提示', {\r\n            type: 'warning'\r\n          }).then(resolve => {\r\n            this.$refs['uploadAvatar'].clearFiles();\r\n            this.$http.get(this.$baseUrl + 'attachment/deleteAttachment/' + this.fileList[0].id).then(response => {\r\n              if (response.data.code === '200') {\r\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\r\n                this.componentModelData.uploaded = '';\r\n                this.$message.success('图片删除成功')\r\n              } else {\r\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\r\n                this.componentModelData.uploaded = '';\r\n                this.$message.warning('图片删除失败')\r\n              }\r\n            }).catch(error => {\r\n              console.log(error)\r\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n            })\r\n          })\r\n        }\r\n      },\r\n      handleRemove() {\r\n\r\n      },\r\n      handleBeforeUpload(file) {\r\n        console.log(file)\r\n        let suffixDictionary = ['jpg', 'jpeg', 'png'];\r\n        let index1 = file.name.lastIndexOf('.') + 1;\r\n        let index2 = file.name.length;\r\n        let fileSuffix = file.name.substring(index1, index2);\r\n        if (suffixDictionary.filter(item => item === fileSuffix).length === 0) {\r\n          this.$message({\r\n            message: '文件必须为' + suffixDictionary.join('、') + '类型文件',\r\n            type: 'error'\r\n          });\r\n          return false;\r\n        }\r\n        if (file.size > 1024 * 1024 * 2) {\r\n          this.$message({\r\n            message: '文件不得大于2M',\r\n            type: 'error'\r\n          });\r\n          return false;\r\n        }\r\n        this.loading = true;\r\n      },\r\n      editAvailability(scope) {\r\n        console.log(scope.row)\r\n\r\n        this.availabilityFormData = Object.assign({}, {\r\n          \"moduleId\": scope.row.id,\r\n          \"type\": scope.row.type,\r\n          \"iosEnable\": scope.row.iosEnable,\r\n          \"androidEnable\": scope.row.androidEnable,\r\n          \"version\": scope.row.version,\r\n        })\r\n        console.log(this.availabilityFormData)\r\n        this.availabilityFlag = true;\r\n\r\n      },\r\n      expand() {\r\n        this.expandQuery = !this.expandQuery;\r\n      },\r\n      search() {\r\n        this.getTableData();\r\n      },\r\n      reset() {\r\n        this.queryModel.available = true;\r\n      },\r\n      deleteImage(index) {\r\n        this.formData.icon = '';\r\n        this.fileList.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/game/gameType.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-row\",\n    { staticClass: \"app-container\" },\n    [\n      _c(\n        \"CommonQuery\",\n        [\n          _c(\n            \"template\",\n            { slot: \"button1\" },\n            [\n              _c(\n                \"el-button\",\n                {\n                  directives: [{ name: \"waves\", rawName: \"v-waves\" }],\n                  attrs: {\n                    size: \"mini\",\n                    type: \"primary\",\n                    icon: \"el-icon-plus\"\n                  },\n                  on: { click: _vm.handleCreate }\n                },\n                [_vm._v(\"\\n        新增\\n      \")]\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"template\", { slot: \"query1\" }, [\n            _c(\n              \"div\",\n              {\n                staticClass: \"common-search-wrapper\",\n                on: {\n                  keyup: function($event) {\n                    if (\n                      !(\"button\" in $event) &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key)\n                    ) {\n                      return null\n                    }\n                    _vm.search($event)\n                  }\n                }\n              },\n              [\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.queryModel.name,\n                      expression: \"queryModel.name\"\n                    }\n                  ],\n                  attrs: { type: \"text\", placeholder: \"请输入游戏名称\" },\n                  domProps: { value: _vm.queryModel.name },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.$set(_vm.queryModel, \"name\", $event.target.value)\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"a\", [\n                  _c(\"span\", {\n                    staticClass: \"el-icon-search\",\n                    on: { click: _vm.search }\n                  })\n                ])\n              ]\n            )\n          ])\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-table\",\n        {\n          directives: [\n            {\n              name: \"loading\",\n              rawName: \"v-loading.body\",\n              value: _vm.listLoading,\n              expression: \"listLoading\",\n              modifiers: { body: true }\n            }\n          ],\n          attrs: {\n            data: _vm.tableList,\n            \"element-loading-text\": \"Loading\",\n            border: \"\",\n            fit: \"\",\n            \"highlight-current-row\": \"\",\n            height: _vm.tableHeight\n          }\n        },\n        [\n          _c(\"el-table-column\", {\n            attrs: {\n              label: \"No\",\n              type: \"index\",\n              width: \"50\",\n              align: \"center\",\n              fixed: \"\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { label: \"名称\", align: \"center\", prop: \"name\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { align: \"center\", label: \"游戏状态\", prop: \"status\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-tag\",\n                      {\n                        attrs: {\n                          type: scope.row.status === 0 ? \"info\" : \"success\"\n                        }\n                      },\n                      [\n                        _vm._v(\n                          \"\\n          \" +\n                            _vm._s(\n                              scope.row.status !== \"\" &&\n                              scope.row.status !== null\n                                ? _vm.statusDictionary.filter(function(item) {\n                                    return item.code === scope.row.status\n                                  })[0].name\n                                : \"\"\n                            ) +\n                            \"\\n        \"\n                        )\n                      ]\n                    )\n                  ]\n                }\n              }\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { align: \"center\", label: \"操作\", width: \"200px\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-button\",\n                      {\n                        attrs: { type: \"primary\", size: \"mini\", disabled: \"\" },\n                        on: {\n                          click: function($event) {\n                            _vm.handleUpdate(scope)\n                          }\n                        }\n                      },\n                      [_vm._v(\"编辑\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"common-pagination-wrapper\" },\n        [\n          _c(\"el-pagination\", {\n            attrs: {\n              background: \"\",\n              \"current-page\": _vm.pagination.page,\n              \"page-sizes\": [10, 20, 30, 50],\n              \"page-size\": _vm.pagination.limit,\n              total: _vm.total,\n              layout: \"total, sizes, prev, pager, next, jumper\"\n            },\n            on: {\n              \"size-change\": _vm.handleSizeChange,\n              \"current-change\": _vm.handleCurrentChange,\n              \"update:currentPage\": function($event) {\n                _vm.$set(_vm.pagination, \"page\", $event)\n              }\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            title: _vm.textMap[_vm.dialogStatus],\n            visible: _vm.dialogFormVisible,\n            width: \"850px\"\n          },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.dialogFormVisible = $event\n            }\n          }\n        },\n        [\n          _c(\n            \"el-row\",\n            { attrs: { type: \"flex\", justify: \"center\" } },\n            [\n              _c(\n                \"el-col\",\n                { attrs: { span: 20 } },\n                [\n                  _c(\n                    \"el-form\",\n                    {\n                      ref: \"formData\",\n                      attrs: {\n                        rules: _vm.rules,\n                        model: _vm.formData,\n                        \"label-position\": \"right\",\n                        \"label-width\": \"140px\"\n                      }\n                    },\n                    [\n                      _c(\n                        \"el-form-item\",\n                        { attrs: { label: \"名称\", prop: \"name\" } },\n                        [\n                          _c(\"el-input\", {\n                            model: {\n                              value: _vm.formData.name,\n                              callback: function($$v) {\n                                _vm.$set(_vm.formData, \"name\", $$v)\n                              },\n                              expression: \"formData.name\"\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"el-form-item\",\n                        { attrs: { label: \"status\", prop: \"status\" } },\n                        [\n                          _c(\n                            \"el-select\",\n                            {\n                              model: {\n                                value: _vm.formData.status,\n                                callback: function($$v) {\n                                  _vm.$set(_vm.formData, \"status\", $$v)\n                                },\n                                expression: \"formData.status\"\n                              }\n                            },\n                            _vm._l(_vm.statusDictionary, function(item) {\n                              return _c(\"el-option\", {\n                                key: item.code,\n                                attrs: { label: item.name, value: item.code }\n                              })\n                            })\n                          )\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"el-form-item\",\n                        { attrs: { label: \"置顶数\", prop: \"topNumber\" } },\n                        [\n                          _c(\"el-input-number\", {\n                            attrs: { min: 0, label: \"描述文字\" },\n                            model: {\n                              value: _vm.formData.topNumber,\n                              callback: function($$v) {\n                                _vm.$set(_vm.formData, \"topNumber\", $$v)\n                              },\n                              expression: \"formData.topNumber\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\n                \"el-button\",\n                {\n                  directives: [{ name: \"waves\", rawName: \"v-waves\" }],\n                  on: {\n                    click: function($event) {\n                      _vm.dialogFormVisible = false\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.$t(\"table.cancel\")))]\n              ),\n              _vm._v(\" \"),\n              _vm.dialogStatus === \"create\"\n                ? _c(\n                    \"el-button\",\n                    {\n                      attrs: { type: \"primary\" },\n                      on: { click: _vm.createData }\n                    },\n                    [_vm._v(_vm._s(_vm.$t(\"table.confirm\")))]\n                  )\n                : _c(\n                    \"el-button\",\n                    {\n                      directives: [{ name: \"waves\", rawName: \"v-waves\" }],\n                      attrs: { type: \"primary\" },\n                      on: { click: _vm.updateData }\n                    },\n                    [_vm._v(_vm._s(_vm.$t(\"table.confirm\")))]\n                  )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-45a768f2\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-45a768f2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/game/gameType.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./gameType.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./gameType.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45a768f2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./gameType.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\views\\\\game\\\\gameType.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-45a768f2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-45a768f2\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/game/gameType.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}