{"version":3,"sources":["webpack:///src/views/besTv/cardNumber.vue","webpack:///./src/views/besTv/cardNumber.vue?10b8","webpack:///./src/views/besTv/cardNumber.vue"],"names":["cardNumber","_this","this","value2","value1","tableHeight","value","status","getProductListData","getTableData","getAgentData","_this2","pagination","then","response","content","totalElements","error","_this3","_this4","deviceType","val","scope","id","isShow","_this5","resetTemp","clearValidate","_this6","agentId","productId","num","_this7","row","endDate","_this8","note","adminId","downloadUrl","createDate","_this9","file","expandQuery","fileList","index2","uid","iconPath","formData","url","token","_this10","besTv_cardNumber","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","attrs","size","type","icon","on","click","handleCreate","_v","keyup","$event","_k","keyCode","key","search","queryModel","expression","placeholder","domProps","input","target","composing","$set","expand","class","active","ref","model","label-width","span","pull-right","reset","modifiers","body","data","tableList","element-loading-text","border","fit","highlight-current-row","height","align","label","width","scopedSlots","_u","fn","_s","$index","prop","productListData","filter","item","length","productDesc","disabled","$store","state","user","login_id","isSend","sendToAgent","downloadExcel","background","current-page","page","page-sizes","page-size","limit","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","title","textMap","dialogStatus","visible","dialogFormVisible","update:visible","justify","rules","label-position","callback","$$v","_l","min","slot","$t","createData","updateData","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/25.a1fe6216a7032cc483b1.js","sourcesContent":["<template>\n\n  <div class=\"app-container\">\n    <div class=\"common-querytable-wrapper\">\n      <div class=\"queryform-wrapper\">\n        <div class=\"outside\">\n          <el-form class=\"basearea\">\n            <ul class=\"pull-left\">\n              <li>\n                <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate\" v-waves>\n                  批量生成VIP Code\n                </el-button>\n              </li>\n            </ul>\n          </el-form>\n          <ul class=\"operation-wrapper pull-right\">\n            <li>\n              <div class=\"common-search-wrapper\" @keyup.enter=\"search\">\n                <input v-model=\"queryModel.keyword\" type=\"text\" placeholder=\"请输入名称\"/>\n                <a>\n                  <span @click=\"search\" class=\"el-icon-search\"></span>\n                </a>\n              </div>\n            </li>\n            <li>\n              <el-button size=\"mini\" class=\"expand\" type=\"text\" @click='expand'>高级搜索<i class=\"el-icon-arrow-down\"></i>\n              </el-button>\n            </li>\n          </ul>\n        </div>\n        <div class=\"expandarea\" :class=\"{active:expandQuery}\">\n          <el-form ref=\"form\" :model=\"queryModel\" size=\"mini\" label-width=\"100px\">\n            <el-row>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"23\" pull-right>\n                <el-form-item class=\"pull-right\">\n                  <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-search\" @click=\"search\" v-waves>搜索</el-button>\n                  <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-refresh\" @click=\"reset\" v-waves>重置</el-button>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </div>\n      </div>\n    </div>\n\n    <el-table :data=\"tableList\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit\n              highlight-current-row :height=\"tableHeight\">\n      <el-table-column align=\"center\" label='No' width=\"50\">\n        <template slot-scope=\"scope\">\n          {{scope.$index+1}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"代理商ID\" align=\"center\" prop=\"agentId\"></el-table-column>\n      <el-table-column label=\"产品类型\" align=\"center\" prop=\"productId\">\n        <template slot-scope=\"scope\">\n          {{productListData.filter(item=>item.productId===scope.row.productId).length>0?productListData.filter(item=>item.productId===scope.row.productId)[0].productDesc:''}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"数量\" align=\"center\" prop=\"num\" width=\"150\"></el-table-column>\n      <el-table-column label=\"创建人Id\" align=\"center\" prop=\"adminId\" width=\"200\"></el-table-column>\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createDate\" width=\"200\"></el-table-column>\n      <el-table-column label=\"确认已发给代理商\" align=\"center\" prop=\"note\" width=\"350\">\n        <template slot-scope=\"scope\">\n          <el-button :disabled=\"$store.state.user.login_id!==scope.row.adminId||scope.row.isSend===1\" size=\"mini\" :type=\"scope.row.isSend===1?'info':'primary'\"\n                     @click=\"sendToAgent(scope)\">{{scope.row.isSend===1?'已发送':'发送'}}\n          </el-button>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"操作\" width=\"350\">\n        <template slot-scope=\"scope\">\n          <el-button :disabled=\"$store.state.user.login_id!==scope.row.adminId\" class=\"icon\" type=\"primary\" size=\"mini\"\n                     @click=\"downloadExcel(scope)\" v-waves>Excel 下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <div class=\"common-pagination-wrapper\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                     :current-page=\"pagination.page\" :page-sizes=\"[10,20,30,50]\" :page-size=\"pagination.limit\"\n                     layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n    <!-- 弹框 -->\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width='width: 400px;'>\n      <el-row type=\"flex\" justify=\"center\">\n        <el-col :span=\"20\">\n          <el-form :rules=\"rules\" ref=\"formData\" :model=\"formData\" label-position=\"right\" label-width=\"150px\">\n            <!--<el-form-item label=\"设备类型\" prop=\"deviceType\">-->\n            <!--<el-select v-model=\"formData.deviceType\" @change=\"getProductListData\">-->\n            <!--<el-option v-for=\"item in $store.state.app.deviceTypeDictionary\" :label=\"item.name\"-->\n            <!--:value=\"item.code\" :key=\"item.code\"></el-option>-->\n            <!--</el-select>-->\n            <!--</el-form-item>-->\n            <el-form-item label=\"产品类型\" prop=\"productId\">\n              <el-select v-model=\"formData.productId\">\n                <el-option v-for=\"item in productListData\" :label=\"item.productDesc\" :value=\"item.productId\"\n                           :key=\"item.productId\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"代理商ID\" prop=\"agentId\">\n              <el-select v-model=\"formData.agentId\">\n                <el-option v-for=\"item in agentListData\" :label=\"item.adminId\n\" :value=\"item.agentId\" :key=\"item.agentId\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"数量\" prop=\"num\">\n              <el-input-number v-model=\"formData.num\" :min=\"0\" label=\"数量\"></el-input-number>\n            </el-form-item>\n          </el-form>\n        </el-col>\n      </el-row>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" v-waves>{{$t('table.cancel')}}</el-button>\n        <el-button v-if=\"dialogStatus==='create'\" type=\"primary\" @click=\"createData\" v-waves>{{$t('table.confirm')}}\n        </el-button>\n        <el-button v-else type=\"primary\" @click=\"updateData\" v-waves>{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n\n</template>\n\n<script>\n\n  import {\n    getTryPlayList,\n    saveTryPlay,\n    updateShelfStatusRequest\n  }\n    from \"@/api/task\";\n\n  export default {\n    data() {\n      return {\n        getagentpageRequest: 'besttv-service/1.0.0/agent/bk/getagentpage/',\n        getapinfopageRequest: 'besttv-service/1.0.0/bk/getapinfopage',\n        batchaddcodeRequest: 'besttv-service/1.0.0/bk/batchaddcode',\n        downloadexcelRequest: 'besttv-service/1.0.0/bk/downloadexcel',\n        productsRequest: 'besttv-service/1.0.0/products',\n        changIsSendRequest: 'besttv-service/1.0.0/bk/changIsSend',\n        value2: \"\",\n        value1: \"\",\n        tableKey: 0,\n        tableList: null,\n        total: null,\n        listLoading: true,\n        queryModel: {\n          keyword: '',\n        },\n        pagination: {\n          page: 1,\n          limit: 10\n        },\n        effectiveDuration: [],\n        importanceOptions: [1, 2, 3],\n        sortOptions: [{\n          label: \"ID Ascending\",\n          key: \"+id\"\n        }, {\n          label: \"ID Descending\",\n          key: \"-id\"\n        }],\n        statusOptions: [\"published\", \"draft\", \"deleted\"],\n        showReviewer: false,\n\n        formData: {\n          id: '',\n          deviceType: '',\n          productId: '',\n          note: \"\",\n          adminId: \"\",\n          num: '',\n          agentId: '',\n          downloadUrl: \"\",\n          createDate: \"\",\n          isShow: '',\n        },\n        dialogFormVisible: false,\n        dialogStatus: \"\",\n        textMap: {\n          update: \"Edit\",\n          create: \"Create\"\n        },\n        dialogPvVisible: false,\n        pvData: [],\n        rules: {\n          deviceType: [{\n            required: true,\n            message: \"此项为必填项\",\n            trigger: \"change\"\n          }],\n          productId: [{\n            required: true,\n            message: \"此项为必填项\",\n            trigger: \"change\"\n          }],\n          agentId: [{\n            required: true,\n            message: \"此项为必填项\",\n            trigger: \"change\"\n          }],\n          num: [{\n            required: true,\n            message: \"此项为必填项\",\n            trigger: \"change\"\n          }, {\n            type: 'number',\n            message: '必须为数字值',\n            trigger: \"change\"\n          }, {\n            type: 'number',\n            max: 10000,\n            message: '最大数量不超过10000个',\n            trigger: \"change\"\n          }],\n\n        },\n        downloadLoading: false,\n        pickerOptions0: {\n          disabledDate: time => {\n            if (this.value2 !== \"\") {\n              return time.getTime() > this.value2;\n            }\n          }\n        },\n        pickerOptions1: {\n          disabledDate: time => {\n            return time.getTime() < this.value1;\n          }\n        },\n        expandQuery: false,\n        portraitParams: {\n          bucketName: \"funyvalley\",\n          folderName: \"task\"\n        },\n        fileList: [],\n        productListData: [],\n        agentListData: [],\n        deviceType: '',\n      };\n    },\n    computed: {\n      tableHeight() {\n        return this.$store.state.app.tableHeight\n      }\n    },\n    watch: {\n      effectiveDuration(value) {\n        console.log(value)\n        if (value === null) {\n          value = [];\n        }\n        this.formData.startDate = this.$moment(value[0]).format('YYYY-MM-DD');\n        this.formData.endDate = this.$moment(value[1]).format('YYYY-MM-DD');\n      }\n    },\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          published: \"success\",\n          draft: \"gray\",\n          deleted: \"danger\"\n        };\n        return statusMap[status];\n      }\n    },\n    mounted() {\n      this.getProductListData();\n      this.getTableData();\n      this.getAgentData()\n    },\n    methods: {\n      getTableData() {\n        this.listLoading = true;\n        this.$http.get(this.$baseUrl + this.getapinfopageRequest, {\n          params: Object.assign(this.queryModel, this.pagination)\n        }).then(response => {\n          console.log(response);\n\n          this.tableList = response.content;\n          this.total = response.totalElements;\n          this.listLoading = false;\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      getAgentData() {\n        let result = [];\n        this.$http.get(this.$baseUrl + this.getagentpageRequest, {\n          params: Object.assign(this.queryModel, this.pagination)\n        }).then(response => {\n          console.log(response);\n          this.agentListData = response.content;\n        });\n      },\n      getProductListData() {\n        this.$http.get(this.$baseUrl + this.productsRequest, {\n          params: {\n            deviceType: this.deviceType\n          }\n        }).then(response => {\n          console.log(response)\n          this.productListData = response;\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      handleSizeChange(val) {\n        this.pagination.limit = val;\n        this.getTableData();\n      },\n      handleCurrentChange(val) {\n        this.pagination.page = val;\n        this.getTableData();\n      },\n      updateShelfStatus(scope) {\n        console.log(scope);\n        //0下架 1上架\n        this.$store.dispatch('updateShelfStatus', {\n          id: scope.row.id,\n          isShow: scope.row.isShow\n        });\n      },\n      resetTemp() {\n        this.formData = {\n          id: '',\n          name: '',\n          agentId: \"\",\n          phone: \"\",\n          note: '',\n        };\n        this.effectiveDuration = [];\n      },\n      handleCreate() {\n        this.resetTemp();\n        this.dialogStatus = \"create\";\n        this.dialogFormVisible = true;\n        this.$nextTick(() => {\n          this.$refs[\"formData\"].clearValidate();\n        });\n      },\n      createData() {\n        this.$refs[\"formData\"].validate(valid => {\n          if (valid) {\n            this.$http.post(this.$baseUrl + this.batchaddcodeRequest, {\n              agentId: this.formData.agentId,\n              productId: this.formData.productId,\n              num: this.formData.num,\n            }).then(() => {\n              this.getTableData();\n              this.dialogFormVisible = false;\n              this.$message.success('创建成功');\n            });\n          }\n        });\n      },\n      handleUpdate(scope) {\n        let startDate = this.$moment(this.startDate).format('YYYY-MM-DD');\n        this.formData = scope.row;\n        this.effectiveDuration = [scope.row.startDate, scope.row.endDate]\n        this.dialogStatus = \"update\";\n        this.dialogFormVisible = true;\n        this.$nextTick(() => {\n          this.$refs[\"formData\"].clearValidate();\n        });\n      },\n      updateData() {\n        this.$refs.formData.validate(valid => {\n          if (valid) {\n            this.$http.post(this.$baseUrl + this.saveAgentInfoRequest, {\n              id: this.formData.id,\n              productId: this.formData.productId,\n              note: this.formData.note,\n              adminId: this.formData.adminId,\n              num: this.formData.num,\n              agentId: this.formData.agentId,\n              downloadUrl: this.formData.downloadUrl,\n              createDate: this.formData.createDate,\n              isShow: this.formData.isShow,\n            }).then(response => {\n              console.log(response)\n              this.dialogFormVisible = false;\n              this.getTableData();\n              this.$message.success('信息修改成功')\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          }\n        })\n      },\n      handleDelete(scope) {\n        this.$confirm('确认删除?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(this.$baseUrl + this.delAgentInfoRequest + scope.row.id).then((response) => {\n            console.log(response)\n            this.dialogFormVisible = false;\n            this.$message.success('删除成功');\n            this.getTableData();\n          }).catch(error => {\n            console.log(error)\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      changeUpload(file) {\n        console.log(file);\n      },\n      expand() {\n        this.expandQuery = !this.expandQuery;\n      },\n      search() {\n        this.getTableData();\n      },\n      reset() {\n        this.queryModel = Object.assign(this.queryModel, {\n          keyword: ''\n        });\n        this.getTableData();\n      },\n      handleBeforeUpload(file) {\n        console.log(file);\n        this.loading = true;\n      },\n      handlePreview(file) {\n        console.log(file);\n      },\n      handleRemove(file, fileList) {\n        console.log(file);\n        console.log(fileList);\n\n        let index = null;\n        fileList.forEach((item, index2) => {\n          if (file.uid === item) {\n            index = index2;\n          }\n        });\n        this.formData.iconPath = '';\n\n        this.fileList = this.fileList.filter(item => item.uid !== file.uid);\n        console.log(this.formData.iconPath);\n      },\n      uploadSuccess(response, file, fileList) {\n        this.loading = false;\n        console.log(file);\n        console.log(response);\n        console.log(6, fileList);\n\n        this.fileList.push(response);\n        console.log(this.formData);\n        this.formData.iconPath = response.url;\n        console.log(fileList);\n        // this.formData.iconPath.forEach((item, index) => {\n        //   if (item.url === this.formData.image) {\n        //     this.formData.iconPath.splice(index, 1)\n        //   }\n        // });\n\n        this.loading = false;\n        this.$message({\n          message: \"图片上传成功\",\n          type: \"success\"\n        });\n      },\n      uploadAvatarExceeded(files, fileList) {\n      },\n      downloadExcel(scope) {\n        window.open(this.$baseUrl + this.downloadexcelRequest + `?filepath=${scope.row.downloadUrl}&access_token=${this.$store.state.user.token}`);\n      },\n      sendToAgent(scope) {\n        console.log(scope)\n        this.$confirm('请核实是否确实已给发送给代理商？此操作不可逆。', '提示', {\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(this.$baseUrl + this.changIsSendRequest+`/${scope.row.id}`, {}).then(response => {\n            console.log(response)\n            this.$message.success('已确认发送');\n            this.getTableData()\n          }).catch(error => {\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n          })\n        })\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/besTv/cardNumber.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"common-querytable-wrapper\"},[_c('div',{staticClass:\"queryform-wrapper\"},[_c('div',{staticClass:\"outside\"},[_c('el-form',{staticClass:\"basearea\"},[_c('ul',{staticClass:\"pull-left\"},[_c('li',[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n                  批量生成VIP Code\\n                \")])],1)])]),_vm._v(\" \"),_c('ul',{staticClass:\"operation-wrapper pull-right\"},[_c('li',[_c('div',{staticClass:\"common-search-wrapper\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.search($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.queryModel.keyword),expression:\"queryModel.keyword\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入名称\"},domProps:{\"value\":(_vm.queryModel.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.queryModel, \"keyword\", $event.target.value)}}}),_vm._v(\" \"),_c('a',[_c('span',{staticClass:\"el-icon-search\",on:{\"click\":_vm.search}})])])]),_vm._v(\" \"),_c('li',[_c('el-button',{staticClass:\"expand\",attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":_vm.expand}},[_vm._v(\"高级搜索\"),_c('i',{staticClass:\"el-icon-arrow-down\"})])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"expandarea\",class:{active:_vm.expandQuery}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.queryModel,\"size\":\"mini\",\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":23,\"pull-right\":\"\"}},[_c('el-form-item',{staticClass:\"pull-right\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)])]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.tableList,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"No\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.$index+1)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"代理商ID\",\"align\":\"center\",\"prop\":\"agentId\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"产品类型\",\"align\":\"center\",\"prop\":\"productId\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.productListData.filter(function (item){ return item.productId===scope.row.productId; }).length>0?_vm.productListData.filter(function (item){ return item.productId===scope.row.productId; })[0].productDesc:'')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\",\"align\":\"center\",\"prop\":\"num\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建人Id\",\"align\":\"center\",\"prop\":\"adminId\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"align\":\"center\",\"prop\":\"createDate\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"确认已发给代理商\",\"align\":\"center\",\"prop\":\"note\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"disabled\":_vm.$store.state.user.login_id!==scope.row.adminId||scope.row.isSend===1,\"size\":\"mini\",\"type\":scope.row.isSend===1?'info':'primary'},on:{\"click\":function($event){_vm.sendToAgent(scope)}}},[_vm._v(_vm._s(scope.row.isSend===1?'已发送':'发送')+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"icon\",attrs:{\"disabled\":_vm.$store.state.user.login_id!==scope.row.adminId,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.downloadExcel(scope)}}},[_vm._v(\"Excel 下载\\n          \")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"common-pagination-wrapper\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pagination.page,\"page-sizes\":[10,20,30,50],\"page-size\":_vm.pagination.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"width\":\"width: 400px;\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{ref:\"formData\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"label-position\":\"right\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"产品类型\",\"prop\":\"productId\"}},[_c('el-select',{model:{value:(_vm.formData.productId),callback:function ($$v) {_vm.$set(_vm.formData, \"productId\", $$v)},expression:\"formData.productId\"}},_vm._l((_vm.productListData),function(item){return _c('el-option',{key:item.productId,attrs:{\"label\":item.productDesc,\"value\":item.productId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"代理商ID\",\"prop\":\"agentId\"}},[_c('el-select',{model:{value:(_vm.formData.agentId),callback:function ($$v) {_vm.$set(_vm.formData, \"agentId\", $$v)},expression:\"formData.agentId\"}},_vm._l((_vm.agentListData),function(item){return _c('el-option',{key:item.agentId,attrs:{\"label\":item.adminId,\"value\":item.agentId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数量\",\"prop\":\"num\"}},[_c('el-input-number',{attrs:{\"min\":0,\"label\":\"数量\"},model:{value:(_vm.formData.num),callback:function ($$v) {_vm.$set(_vm.formData, \"num\", $$v)},expression:\"formData.num\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_vm._v(\" \"),(_vm.dialogStatus==='create')?_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(_vm._s(_vm.$t('table.confirm'))+\"\\n        \")]):_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-41359548\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/besTv/cardNumber.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./cardNumber.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./cardNumber.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41359548\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./cardNumber.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/besTv/cardNumber.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}