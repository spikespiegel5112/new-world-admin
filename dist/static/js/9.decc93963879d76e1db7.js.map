{"version":3,"sources":["webpack:///src/views/game/gameSort.vue","webpack:///./src/views/game/gameSort.vue?c71c","webpack:///./src/views/game/gameSort.vue","webpack:///./src/views/game/gameSort.vue?11cc","webpack:///./src/views/game/gameSort.vue?201c"],"names":["gameSort","CommonTag","CommonQuery","Draggable","vuedraggablefrom_dll_reference_vendor_d4daef_default","a","currentDeviceType","currentGameTypeId","value","getGameTypeInfo","_this","this","pagination","queryModel","then","response","topNumber","id","getSortList","_this2","item1","result","deviceType","item","data","currentTopNumber","code","currentSortData","chosenGameInfo","initSortData","_this3","error","_this4","gameOptions","total","name","_this5","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","loading","relative","_v","tab-position","on","tab-click","chooseDeviceType","_l","$store","state","app","deviceTypeDictionary","key","style","height","layoutHeight","label","chooseGameType","gameTypeInfo","list","index","type","justify","staticStyle","text-align","span","options","start","$event","drag","end","model","callback","$$v","expression","_s","click","minusGame","length","handleAddGame","_e","disabled","compareIsSortDataChanged","saveSort","title","textMap","dialogStatus","visible","dialogFormVisible","width","update:visible","ref","rules","label-position","label-width","prop","fetch-suggestions","focusSortList","placeholder","select","chooseGame","chosenGameName","slot","directives","rawName","$t","addGame","_withStripped","esExports","staticRenderFns","game_gameSort","disposed","Component","__webpack_require__","normalizeComponent","ssrContext","__file","__webpack_exports__","content","module","i","locals","exports","push"],"mappings":"gMA0EAA,eAGAC,YAAA,EACAC,cAAA,EACAC,UAAAC,EAAAC,sDAKA,kEAEA,2DACA,0DAEA,2EAEA,gEAEA,oFACA,gFAEA,qEAEAC,kCACAC,oCAMA,QAEA,iBAEA,OACA,SACA,eACA,WACA,eACA,kBACA,sBACA,cACA,UACA,QACA,WACA,SAEA,yBACA,eACA,mBAEA,cAEA,2BACA,0BAGA,UACA,kBAGA,qBACA,yCAGA,uDAGA,oBACA,oBACA,4DAGA,mGAMA,4DAKAC,oDAGAA,wCAGAA,6BAIAC,uDAGA,IAAAC,EAAAC,mBAEA,2CACAC,gFAEAC,aADAC,KAAA,SAAAC,gBAKAA,kBACAA,4CACAC,qDAGAC,+CAQAX,+BAEAC,sBACAW,yBACA,4BAGA,IAAAC,EAAAR,OAEA,iBACA,aAFA,iGAOAS,wBAKAP,wBACAQ,8EAIA,6DAEAd,6CAEAe,cAPAR,KAAA,SAAAC,eASAA,+FAIAQ,6DAIAA,gBAGA,4CAMAC,0DACAP,yDAEAD,oDAEA,aACAS,sBACA,UACA,QACA,eACA,mBAEAlB,yBACAW,wDAGAM,8EACAE,0DAEAnB,kCAEAD,qCACAO,iBACAK,gEAGA,uBACA,uBACA,4DAGA,kBAEAS,2BACAC,qCACAP,mBACAM,kCACAE,sCACA,6BAsBA,4CAMAF,2BACA,wBACAN,mBACAM,sCAsBA,IAAAG,EAAAnB,yIASAM,8GAIAA,2HAGAF,KACAG,qGAEAa,gCAhBA,yCAmBA,IAAAC,EAAArB,sBACAsB,2BAEA,6CAEA,SACA,SACA,QACA,eACA,cAEA,sBAGApB,gFAEAA,aADAC,KAAA,SAAAC,eAGAA,cACA,YACAmB,sFAMAC,yFAGAA,yBAIAd,KAEAA,qBACAY,wDAMAT,uBACAA,yBAEAhB,2CAEA,IAAA4B,EAAAzB,QACA,mEAEA,8EAIA,KAIAU,KC7ZAgB,EAAA,WACA,IAAAC,EAAA3B,KACA4B,EAAAD,EAAAE,eACAC,EAAAH,EAAAI,MAAAD,IAAAF,EACA,OAAAE,EACA,OACKE,YAAA,kBAELF,EAAA,iBAA2BG,OAASC,QAAAP,EAAAO,QAAAC,UAAA,KACpCR,EAAAS,GAAA,KACAN,EACA,WAEAG,OAAkBI,eAAA,QAClBC,IAAeC,YAAAZ,EAAAa,mBAEfb,EAAAc,GAAAd,EAAAe,OAAAC,MAAAC,IAAAC,qBAAA,SAAAjC,GACA,OAAAkB,EACA,eAEAgB,IAAAlC,EAAAG,KACAgC,OAAsBC,OAAArB,EAAAsB,aAAA,QACtBhB,OAAsBiB,MAAAtC,EAAAY,QAGtBM,EACA,WAEAG,OAA0BI,eAAA,QAC1BC,IAAuBC,YAAAZ,EAAAwB,iBAEvBxB,EAAAc,GAAAd,EAAAyB,aAAAC,KAAA,SAAAzC,EAAA0C,GACA,OAAAxB,EACA,eAEAgB,IAAAlC,EAAAN,GACA2B,OACAiB,MAAAtC,EAAAY,KAAA,QAAAZ,EAAAP,UAAA,OAIAyB,EACA,UACyBG,OAASsB,KAAA,OAAAC,QAAA,YAElC1B,EACA,UAEA2B,aAA4CC,aAAA,UAC5CzB,OAAsC0B,KAAA,MAGtC7B,EACA,OAEAE,YACA,oDAGAF,EACA,MACqCE,YAAA,aAErCF,EACA,aAEAG,OAAkD2B,YAClDtB,IACAuB,MAAA,SAAAC,GACAnC,EAAAoC,MAAA,GAEAC,IAAA,SAAAF,GACAnC,EAAAoC,MAAA,IAGAE,OACApE,MAAA8B,EAAAX,gBACAkD,SAAA,SAAAC,GACAxC,EAAAX,gBAAAmD,GAEAC,WAAA,oBAGAzC,EAAAc,GAAAd,EAAAX,gBAAA,SACAJ,EACA0C,GAEA,OAAAxB,EAAA,MAA2DgB,IAAAlC,EAAAN,KAC3DwB,EACA,SAC+CE,YAAA,aAC/CL,EAAAS,GAAAT,EAAA0C,GAAAzD,EAAAY,SAEAG,EAAAS,GAAA,KACAN,EACA,KAEAE,YAAA,QACAM,IACAgC,MAAA,SAAAR,GACAnC,EAAA4C,UAAAjB,OAKAxB,EAAA,QACAE,YACA,uCAQA,GAEAL,EAAAS,GAAA,KACAT,EAAAX,gBAAAwD,OACA7C,EAAAb,iBACAgB,EAAA,MAAgDE,YAAA,QAChDF,EAAA,MACAA,EACA,KAEAE,YAAA,OACAM,IAAmDgC,MAAA3C,EAAA8C,iBAGnD3C,EAAA,QACAE,YACA,0CAMAL,EAAA+C,UAMA,GAEA/C,EAAAS,GAAA,KACAN,EACA,UAEAE,YAAA,SACAC,OAAkCsB,KAAA,OAAAC,QAAA,YAGlC1B,EACA,UAEA2B,aAA4CC,aAAA,UAC5CzB,OAAsC0B,KAAA,KAGtC7B,EACA,aAEAG,OACAsB,KAAA,UACAoB,UAAAhD,EAAAiD,4BAEAtC,IAAuCgC,MAAA3C,EAAAkD,YAEvClD,EAAAS,GAAA,WAGA,IAGA,IAGA,OAKA,MAIAT,EAAAS,GAAA,KACAN,EACA,aAEAG,OACA6C,MAAAnD,EAAAoD,QAAApD,EAAAqD,cACAC,QAAAtD,EAAAuD,kBACAC,MAAA,SAEA7C,IACA8C,iBAAA,SAAAtB,GACAnC,EAAAuD,kBAAApB,MAKAhC,EACA,UACaG,OAASsB,KAAA,OAAAC,QAAA,YAEtB1B,EACA,UACiBG,OAAS0B,KAAA,MAE1B7B,EACA,WAEAuD,IAAA,aACApD,OACAqD,MAAA3D,EAAA2D,MACArB,MAAAtC,EAAAzB,WACAqF,iBAAA,QACAC,cAAA,WAIA1D,EACA,gBACyBG,OAASiB,MAAA,OAAAuC,KAAA,UAElC3D,EAAA,mBACAG,OACAyD,oBAAA/D,EAAAgE,cACAC,YAAA,SAEAtD,IAAiCuD,OAAAlE,EAAAmE,YACjC7B,OACApE,MAAA8B,EAAAoE,eACA7B,SAAA,SAAAC,GACAxC,EAAAoE,eAAA5B,GAEAC,WAAA,qBAIA,IAGA,IAGA,IAGA,GAEAzC,EAAAS,GAAA,KACAN,EACA,OAEAE,YAAA,gBACAC,OAAsB+D,KAAA,UACtBA,KAAA,WAGAlE,EACA,aAEAmE,aAAgCzE,KAAA,QAAA0E,QAAA,YAChC5D,IACAgC,MAAA,SAAAR,GACAnC,EAAAuD,mBAAA,MAIAvD,EAAAS,GAAAT,EAAA0C,GAAA1C,EAAAwE,GAAA,oBAEAxE,EAAAS,GAAA,KACAN,EACA,aAEAmE,aAAgCzE,KAAA,QAAA0E,QAAA,YAChCjE,OAA0BsB,KAAA,WAC1BjB,IAAuBgC,MAAA3C,EAAAyE,WAEvBzE,EAAAS,GAAAT,EAAA0C,GAAA1C,EAAAwE,GAAA,sBAGA,IAGA,IAGA,IAIAzE,EAAA2E,eAAA,EACA,IAAAC,GAAiB5E,SAAA6E,oBACFC,EAAA,ECzSf,IAAAC,GAAA,EAKA,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvH,EACAmH,GATF,EAXA,SAAAK,GACAJ,GACEE,EAAQ,SAaV,KAEA,MASAD,EAAA9C,QAAAkD,OAAA,iCAkBeC,EAAA,QAAAL,EAAiB,8BC1ChC,IAAAM,EAAcL,EAAQ,QACtB,iBAAAK,QAA4CC,EAAAC,EAASF,EAAA,MACrDA,EAAAG,SAAAF,EAAAG,QAAAJ,EAAAG,QAEaR,EAAQ,OAARA,CAAgG,WAAAK,GAAA,0BCP7GC,EAAAG,QAA2BT,EAAQ,OAARA,EAA6E,IAKxGU,MAAcJ,EAAAC,EAAS,4QAA0Q","file":"static/js/9.decc93963879d76e1db7.js","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <CommonLoading :loading=\"loading\" :relative=\"false\"/>\r\n    <el-tabs tab-position=\"left\" @tab-click=\"chooseDeviceType\">\r\n\r\n      <el-tab-pane v-for=\"item in $store.state.app.deviceTypeDictionary\" :key=\"item.code\" :label=\"item.name\"\r\n                   :style=\"{height:layoutHeight-5+'px'}\">\r\n        <el-tabs tab-position=\"left\" @tab-click=\"chooseGameType\">\r\n          <el-tab-pane v-for=\"(item, index) in gameTypeInfo.list\" :key=\"item.id\"\r\n                       :label=\"item.name+`(槽位容量${item.topNumber})`\">\r\n            <el-row type=\"flex\" justify='center'>\r\n              <el-col :span=\"24\" style=\"text-align: center\">\r\n                <div class=\"common_sortlist_wrapper game_sortlist_container\">\r\n                  <ul class=\"sortlist\">\r\n                    <Draggable v-model=\"currentSortData\" :options=\"{}\" @start=\"drag=true\" @end=\"drag=false\">\r\n                      <li v-for=\"(item, index) in currentSortData\" :key=\"item.id\">\r\n                        <label class=\"gamename\">{{item.name}}</label>\r\n                        <a @click=\"minusGame(index)\" class=\"minus\">\r\n                          <span class=\"add el-icon-remove-outline\"></span>\r\n                        </a>\r\n                      </li>\r\n                    </Draggable>\r\n                  </ul>\r\n                  <ul class=\"add\" v-if=\"currentSortData.length<currentTopNumber\">\r\n                    <li>\r\n                      <a class=\"plus\" @click=\"handleAddGame\">\r\n                        <span class=\"add el-icon-circle-plus-outline\"></span>\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row class=\"footer\" type=\"flex\" justify=\"center\">\r\n              <el-col :span=\"6\" style=\"text-align: center\">\r\n                <el-button type=\"primary\" @click=\"saveSort\" :disabled=\"!compareIsSortDataChanged()\">保存排序</el-button>\r\n              </el-col>\r\n            </el-row>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n\r\n    <!-- 弹框 -->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width=\"600px\">\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col :span=\"20\">\r\n          <el-form :rules=\"rules\" ref=\"queryModel\" :model=\"queryModel\" label-position=\"right\" label-width=\"150px\">\r\n            <el-form-item label=\"游戏名称\" prop=\"name\">\r\n              <el-autocomplete\r\n                v-model=\"chosenGameName\"\r\n                :fetch-suggestions=\"focusSortList\"\r\n                placeholder=\"请输入内容\"\r\n                @select=\"chooseGame\"\r\n              ></el-autocomplete>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\" v-waves>{{$t('table.cancel')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"addGame\" v-waves>{{$t('table.confirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>`\r\n\r\n<script>\r\n  import CommonTag from '@/views/common/CommonTag.vue'\r\n  import CommonQuery from '@/views/common/CommonQuery.vue'\r\n  import Draggable from 'vuedraggable'\r\n  // import Sortable from 'sortablejs'\r\n\r\n  export default {\r\n    components: {\r\n      CommonTag,\r\n      CommonQuery,\r\n      Draggable,\r\n      // Sortable\r\n    },\r\n    data() {\r\n      return {\r\n        game_typeAddOrUpdateRequest: 'game-service/1.0.0/game_type/addOrUpdate',\r\n        game_typeDeleteRequest: 'game-service/1.0.0/game_type/delete',\r\n\r\n        game_infoListRequest: 'game-service/1.0.0/game_info/list',\r\n        rankGameByTypeRequest: 'game-service/1.0.0/game_type_mapping/rankGameByType',\r\n\r\n        game_typeListRequest: 'game-service/1.0.0/game_type/list',\r\n\r\n        findHomePageGameInfoRequest: 'game-service/1.0.0/game_info/findHomePageGameInfo',\r\n\r\n        operationGameTypeMappingRequest: 'game-service/1.0.0/game_type_mapping/operationGameTypeMapping',\r\n        rankListRequest: 'game-service/1.0.0/game_info/rank/list',\r\n\r\n        queryModel: {\r\n          deviceType: this.currentDeviceType,\r\n          gameTypeId: this.currentGameTypeId,\r\n          // topNumber: 0,\r\n          // ios: false,\r\n          // android: true\r\n        },\r\n        pagination: {\r\n          page: 1,\r\n          limit: 20,\r\n        },\r\n        formData: {\r\n          id: 0,\r\n          name: '',\r\n          \"title\": \"\",\r\n          \"description\": '',\r\n          \"iconUrl\": \"\",\r\n          \"bigImageUrl\": \"\",\r\n          \"iosDownloadUrl\": \"\",\r\n          androidDownloadUrl: '',\r\n          webGameUrl: '',\r\n          nature: \"\",\r\n          ios: false,\r\n          android: false,\r\n          status: null\r\n        },\r\n        dialogFormVisible: false,\r\n        dialogStatus: '',\r\n        textMap: {\r\n          update: 'Edit',\r\n          create: 'Create'\r\n        },\r\n        dialogPvVisible: false,\r\n        rules: {\r\n          name: [{\r\n            required: true,\r\n            message: \"此项为不能为空\",\r\n            trigger: \"change\"\r\n          }],\r\n        },\r\n        loading: false,\r\n        fileList: [],\r\n        gameTypeInfo: [],\r\n        gameTypeId: '',\r\n        initSortData: [],\r\n        currentSortData: [],\r\n        currentTopNumber: 0,\r\n        currentGameTypeId: 1,\r\n        currentDeviceType: 'android',\r\n        autoCompleteList: [],\r\n        gameOptions: [],\r\n        chosenGameName: '',\r\n        chosenGameInfo: {},\r\n      }\r\n    },\r\n    computed: {\r\n      layoutHeight() {\r\n        return this.$store.state.app.layoutHeight - 40;\r\n      }\r\n    },\r\n    watch: {\r\n      'formData.bigImageUrl': function (value) {\r\n        console.warn(value)\r\n      },\r\n      chosenGameName(value) {\r\n        this.queryModel.name = value\r\n      },\r\n      initSortData(value) {\r\n        console.log(value)\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getGameTypeInfo();\r\n    },\r\n    methods: {\r\n      getGameTypeInfo() {\r\n        // alert(this.currentGameTypeId)\r\n        this.loading = true;\r\n        this.queryModel = Object.assign(this.queryModel, this.pagination);\r\n        this.$http.get(this.$baseUrl + this.game_typeListRequest, {\r\n          params: this.queryModel\r\n        }).then(response => {\r\n          console.warn(response)\r\n\r\n\r\n          this.gameTypeInfo = response;\r\n          this.currentTopNumber = this.gameTypeInfo.list[0].topNumber;\r\n          this.currentGameTypeId = this.gameTypeInfo.list[0].id;\r\n\r\n\r\n          this.queryModel = Object.assign(this.queryModel, {\r\n            // page: 1,\r\n            // limit: this.gameTypeInfo.list[0].topNumber,\r\n            // name: '',\r\n            // status: 1,\r\n            // title: '',\r\n            // description: '',\r\n            deviceType: this.currentDeviceType,\r\n            gameTypeId: this.currentGameTypeId\r\n          });\r\n          this.getSortList();\r\n          this.loading = false\r\n        })\r\n      },\r\n      getSortList() {\r\n        let deviceTypeList = ['android', 'ios'];\r\n        let result = '';\r\n        this.loading = true;\r\n        deviceTypeList.forEach(item1 => {\r\n          Object.keys(this.queryModel).forEach(item2 => {\r\n            if (item1 === item2) {\r\n              if (this.queryModel[item2] === true) {\r\n                result = item1;\r\n              }\r\n            }\r\n          })\r\n        });\r\n        console.log(this.queryModel)\r\n        console.log(result)\r\n        this.$http.get(this.$baseUrl + this.rankListRequest, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n          params: {\r\n            gameTypeId: this.currentGameTypeId,\r\n            deviceType: this.queryModel.deviceType\r\n          }\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.initSortData = [];\r\n          this.currentSortData = [];\r\n          response.list.forEach((item, index) => {\r\n            this.$set(this.initSortData, index, item)\r\n          });\r\n\r\n          response.list.forEach((item, index) => {\r\n            this.$set(this.currentSortData, index, item)\r\n          });\r\n          this.loading = false;\r\n\r\n        })\r\n      },\r\n\r\n\r\n      chooseGameType(data) {\r\n        console.log(data)\r\n        this.currentGameTypeId = this.gameTypeInfo.list[data.index].id;\r\n        this.currentTopNumber = this.gameTypeInfo.list[data.index].topNumber;\r\n\r\n        this.queryModel = Object.assign(this.queryModel, {\r\n          page: 1,\r\n          limit: this.currentTopNumber,\r\n          name: '',\r\n          status: 1,\r\n          title: '',\r\n          description: '',\r\n          gameTypeId: this.currentGameTypeId\r\n        });\r\n        this.getSortList();\r\n      },\r\n      chooseDeviceType(data) {\r\n        console.log(data)\r\n        this.currentDeviceType = this.$store.state.app.deviceTypeDictionary[data.index].code;\r\n        this.queryModel = Object.assign(this.queryModel, {\r\n          gameTypeId: this.currentGameTypeId,\r\n          deviceType: this.currentDeviceType\r\n        });\r\n        console.log(this.queryModel)\r\n        this.getSortList();\r\n      },\r\n      handleAddGame() {\r\n        this.dialogFormVisible = true;\r\n        this.queryModel.name = '';\r\n        this.chosenGameName = '';\r\n      },\r\n      addGame() {\r\n        if (Object.keys(this.chosenGameInfo).length > 0) {\r\n          let result = [];\r\n          result = this.currentSortData;\r\n          result.push(this.chosenGameInfo)\r\n          this.currentSortData = result;\r\n          console.log(this.currentSortData)\r\n          console.log(this.initSortData)\r\n          this.dialogFormVisible = false;\r\n          // this.compareIsSortDataChanged();\r\n\r\n\r\n          // this.$http.post(this.$baseUrl + this.operationGameTypeMappingRequest, [{\r\n          //   gameId: this.chosenGameInfo.id.toString(),\r\n          //   gameTypeId: this.currentGameTypeId.toString(),\r\n          //   operation: true\r\n          // }], {\r\n          //   headers: {\r\n          //     'Content-Type': 'application/json',\r\n          //   },\r\n          // }).then(response => {\r\n          //   console.log(response)\r\n          //   this.queryModel.name = '';\r\n          //   this.queryModel.gameTypeId = this.currentGameTypeId;\r\n          //   this.getSortList();\r\n          //   this.dialogFormVisible = false;\r\n          // }).catch(error => {\r\n          //   console.log(error)\r\n          // })\r\n        } else {\r\n          this.$message.warning('无游戏可添加')\r\n        }\r\n\r\n\r\n      },\r\n      minusGame(index) {\r\n        let result = this.currentSortData;\r\n        result.splice(index, 1);\r\n        this.currentSortData = result;\r\n        console.log(this.currentSortData)\r\n        // this.$confirm('确认删除?', '提示', {\r\n        //   confirmButtonText: '确定',\r\n        //   cancelButtonText: '取消',\r\n        //   type: 'warning'\r\n        // }).then(() => {\r\n        //   this.$http.post(this.$baseUrl + this.operationGameTypeMappingRequest, [{\r\n        //     gameId: this.currentSortData[index].id.toString(),\r\n        //     gameTypeId: this.currentGameTypeId.toString(),\r\n        //     operation: false\r\n        //   }], {\r\n        //     headers: {\r\n        //       'Content-Type': 'application/json',\r\n        //     },\r\n        //   }).then(response => {\r\n        //     console.log(response)\r\n        //     this.queryModel.gameTypeId = this.currentGameTypeId;\r\n        //     this.getSortList();\r\n        //   })\r\n        // })\r\n      },\r\n\r\n      saveSort() {\r\n        let requestBody = {};\r\n        if (this.currentSortData.length === 0) {\r\n          this.$message.warning('排序列表不能为空')\r\n          return;\r\n        }\r\n        if (this.currentDeviceType === 'ios') {\r\n          requestBody = {\r\n            iosGameIdList: this.currentSortData.map(item => item.id)\r\n          };\r\n        } else if (this.currentDeviceType === 'android') {\r\n          requestBody = {\r\n            androidGameIdList: this.currentSortData.map(item => item.id)\r\n          }\r\n        }\r\n        this.$http.post(this.$baseUrl + this.rankGameByTypeRequest + `/${this.currentGameTypeId}`, requestBody).then(response => {\r\n          console.log(response);\r\n          this.getSortList();\r\n        }).catch(error => {\r\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n        })\r\n      },\r\n      focusSortList(queryString, callback) {\r\n        console.log(this.gameOptions)\r\n        this.loading = true;\r\n\r\n        this.queryModel = Object.assign(this.queryModel, {\r\n          limit: 999,\r\n          page: 1,\r\n          status: 1,\r\n          title: '',\r\n          description: '',\r\n          gameTypeId: '',\r\n        });\r\n        console.log(this.queryModel)\r\n\r\n\r\n        this.$http.get(this.$baseUrl + this.game_infoListRequest, {\r\n          params: this.queryModel\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.loading = false;\r\n          this.total = response.total;\r\n          let result = [];\r\n          if (response.list.length !== 0) {\r\n            response.list.forEach((item, index) => {\r\n              result.push(Object.assign(item, {\r\n                value: item.name\r\n              }));\r\n            });\r\n            this.currentSortData.forEach(item1 => {\r\n              result = result.filter(item2 => item1.name !== item2.name)\r\n            });\r\n\r\n            console.log(111, result)\r\n\r\n            callback(result)\r\n\r\n            console.log(222, this.gameOptions)\r\n          }\r\n        })\r\n      },\r\n\r\n      chooseGame(data) {\r\n        console.log(333, data)\r\n        this.chosenGameInfo = data;\r\n        this.queryModel.name = data.value;\r\n\r\n      },\r\n      compareIsSortDataChanged() {\r\n        let result = false;\r\n        if (this.initSortData.length !== this.currentSortData.length) {\r\n          result = true;\r\n        } else {\r\n          this.initSortData.forEach((item, index) => {\r\n            if (this.currentSortData[index].id !== item.id) {\r\n              result = true;\r\n            }\r\n          })\r\n        }\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang='scss'>\r\n  @import \"../../styles/game.scss\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/game/gameSort.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"app-container\" },\n    [\n      _c(\"CommonLoading\", { attrs: { loading: _vm.loading, relative: false } }),\n      _vm._v(\" \"),\n      _c(\n        \"el-tabs\",\n        {\n          attrs: { \"tab-position\": \"left\" },\n          on: { \"tab-click\": _vm.chooseDeviceType }\n        },\n        _vm._l(_vm.$store.state.app.deviceTypeDictionary, function(item) {\n          return _c(\n            \"el-tab-pane\",\n            {\n              key: item.code,\n              style: { height: _vm.layoutHeight - 5 + \"px\" },\n              attrs: { label: item.name }\n            },\n            [\n              _c(\n                \"el-tabs\",\n                {\n                  attrs: { \"tab-position\": \"left\" },\n                  on: { \"tab-click\": _vm.chooseGameType }\n                },\n                _vm._l(_vm.gameTypeInfo.list, function(item, index) {\n                  return _c(\n                    \"el-tab-pane\",\n                    {\n                      key: item.id,\n                      attrs: {\n                        label: item.name + \"(槽位容量\" + item.topNumber + \")\"\n                      }\n                    },\n                    [\n                      _c(\n                        \"el-row\",\n                        { attrs: { type: \"flex\", justify: \"center\" } },\n                        [\n                          _c(\n                            \"el-col\",\n                            {\n                              staticStyle: { \"text-align\": \"center\" },\n                              attrs: { span: 24 }\n                            },\n                            [\n                              _c(\n                                \"div\",\n                                {\n                                  staticClass:\n                                    \"common_sortlist_wrapper game_sortlist_container\"\n                                },\n                                [\n                                  _c(\n                                    \"ul\",\n                                    { staticClass: \"sortlist\" },\n                                    [\n                                      _c(\n                                        \"Draggable\",\n                                        {\n                                          attrs: { options: {} },\n                                          on: {\n                                            start: function($event) {\n                                              _vm.drag = true\n                                            },\n                                            end: function($event) {\n                                              _vm.drag = false\n                                            }\n                                          },\n                                          model: {\n                                            value: _vm.currentSortData,\n                                            callback: function($$v) {\n                                              _vm.currentSortData = $$v\n                                            },\n                                            expression: \"currentSortData\"\n                                          }\n                                        },\n                                        _vm._l(_vm.currentSortData, function(\n                                          item,\n                                          index\n                                        ) {\n                                          return _c(\"li\", { key: item.id }, [\n                                            _c(\n                                              \"label\",\n                                              { staticClass: \"gamename\" },\n                                              [_vm._v(_vm._s(item.name))]\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"a\",\n                                              {\n                                                staticClass: \"minus\",\n                                                on: {\n                                                  click: function($event) {\n                                                    _vm.minusGame(index)\n                                                  }\n                                                }\n                                              },\n                                              [\n                                                _c(\"span\", {\n                                                  staticClass:\n                                                    \"add el-icon-remove-outline\"\n                                                })\n                                              ]\n                                            )\n                                          ])\n                                        })\n                                      )\n                                    ],\n                                    1\n                                  ),\n                                  _vm._v(\" \"),\n                                  _vm.currentSortData.length <\n                                  _vm.currentTopNumber\n                                    ? _c(\"ul\", { staticClass: \"add\" }, [\n                                        _c(\"li\", [\n                                          _c(\n                                            \"a\",\n                                            {\n                                              staticClass: \"plus\",\n                                              on: { click: _vm.handleAddGame }\n                                            },\n                                            [\n                                              _c(\"span\", {\n                                                staticClass:\n                                                  \"add el-icon-circle-plus-outline\"\n                                              })\n                                            ]\n                                          )\n                                        ])\n                                      ])\n                                    : _vm._e()\n                                ]\n                              )\n                            ]\n                          )\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"el-row\",\n                        {\n                          staticClass: \"footer\",\n                          attrs: { type: \"flex\", justify: \"center\" }\n                        },\n                        [\n                          _c(\n                            \"el-col\",\n                            {\n                              staticStyle: { \"text-align\": \"center\" },\n                              attrs: { span: 6 }\n                            },\n                            [\n                              _c(\n                                \"el-button\",\n                                {\n                                  attrs: {\n                                    type: \"primary\",\n                                    disabled: !_vm.compareIsSortDataChanged()\n                                  },\n                                  on: { click: _vm.saveSort }\n                                },\n                                [_vm._v(\"保存排序\")]\n                              )\n                            ],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                })\n              )\n            ],\n            1\n          )\n        })\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            title: _vm.textMap[_vm.dialogStatus],\n            visible: _vm.dialogFormVisible,\n            width: \"600px\"\n          },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.dialogFormVisible = $event\n            }\n          }\n        },\n        [\n          _c(\n            \"el-row\",\n            { attrs: { type: \"flex\", justify: \"center\" } },\n            [\n              _c(\n                \"el-col\",\n                { attrs: { span: 20 } },\n                [\n                  _c(\n                    \"el-form\",\n                    {\n                      ref: \"queryModel\",\n                      attrs: {\n                        rules: _vm.rules,\n                        model: _vm.queryModel,\n                        \"label-position\": \"right\",\n                        \"label-width\": \"150px\"\n                      }\n                    },\n                    [\n                      _c(\n                        \"el-form-item\",\n                        { attrs: { label: \"游戏名称\", prop: \"name\" } },\n                        [\n                          _c(\"el-autocomplete\", {\n                            attrs: {\n                              \"fetch-suggestions\": _vm.focusSortList,\n                              placeholder: \"请输入内容\"\n                            },\n                            on: { select: _vm.chooseGame },\n                            model: {\n                              value: _vm.chosenGameName,\n                              callback: function($$v) {\n                                _vm.chosenGameName = $$v\n                              },\n                              expression: \"chosenGameName\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\n                \"el-button\",\n                {\n                  directives: [{ name: \"waves\", rawName: \"v-waves\" }],\n                  on: {\n                    click: function($event) {\n                      _vm.dialogFormVisible = false\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.$t(\"table.cancel\")))]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  directives: [{ name: \"waves\", rawName: \"v-waves\" }],\n                  attrs: { type: \"primary\" },\n                  on: { click: _vm.addGame }\n                },\n                [_vm._v(_vm._s(_vm.$t(\"table.confirm\")))]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-loader/node_modules/vue-hot-reload-api\")      .rerender(\"data-v-5df60554\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-5df60554\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/game/gameSort.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5df60554\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./gameSort.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./gameSort.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./gameSort.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5df60554\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./gameSort.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\views\\\\game\\\\gameSort.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5df60554\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5df60554\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/game/gameSort.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5df60554\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./gameSort.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"2262a013\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5df60554\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./gameSort.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5df60554\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./gameSort.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-style-loader@3.0.3@vue-style-loader!./node_modules/_css-loader@0.28.7@css-loader?{\"sourceMap\":false}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5df60554\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":false}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/game/gameSort.vue\n// module id = fPY9\n// module chunks = 9","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.game_sortlist_container .gamename {\\n  display: inline-block;\\n  width: 80%;\\n  height: 60px;\\n  line-height: 60px;\\n  vertical-align: middle;\\n  font-size: 20px;\\n}\\n.game_sortlist_container .sortlist .minus {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"sourceMap\":false}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5df60554\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":false}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/game/gameSort.vue\n// module id = mebv\n// module chunks = 9"],"sourceRoot":""}