{"version":3,"sources":["webpack:///src/views/metaData/metaDataFeature.vue","webpack:///./src/views/metaData/metaDataFeature.vue?1b72","webpack:///./src/views/metaData/metaDataFeature.vue"],"names":["metaDataFeature","CommonTag","_this","this","value2","value1","status","getControllableVersionList","getTableData","_this2","pagination","then","response","list","total","error","_this3","androidList","iosList","val","_this4","resetFields","clearValidate","_this5","formData","name","iosEnable","androidEnable","token","_this6","row","_this7","id","_this8","file","url","_this9","resolve","clearFiles","length","index2","_this10","data","type","_this11","expandQuery","metaData_metaDataFeature","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","attrs","size","icon","on","click","handleCreate","_v","keyup","$event","_k","keyCode","key","search","value","queryModel","expression","placeholder","domProps","input","target","composing","$set","expand","class","active","ref","model","label-width","span","label","callback","$$v","pull-right","reset","label-position","title","tagData","iosVersionListData","buttonText","metaData","add","handleAddMetaDataList","delete","handleDeleteMetaData","androidVersionListData","modifiers","body","element-loading-text","border","fit","highlight-current-row","height","metaTableHeight","width","align","fixed","prop","scopedSlots","_u","fn","scope","active-color","inactive-color","disabled","handleUpdate","handleDelete","background","current-page","page","page-sizes","page-size","limit","layout","size-change","handleSizeChange","current-change","handleCurrentChange","visible","dialogFormVisible","update:visible","justify","rules","slot","_s","$t","dialogStatus","createData","updateData","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/18.9c2b2df74c2effa3aef3.js","sourcesContent":["<template>\n  <el-row class=\"app-container\">\n    <div class=\"common-querytable-wrapper\">\n      <div class=\"queryform-wrapper\">\n        <div class=\"outside\">\n          <el-form class=\"basearea\">\n            <ul class=\"pull-left\">\n              <li>\n                <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate\" v-waves>\n                  新增\n                </el-button>\n              </li>\n            </ul>\n          </el-form>\n          <ul class=\"operation-wrapper pull-right\">\n            <li>\n              <div class=\"common-search-wrapper\" @keyup.enter=\"search\">\n                <input v-model=\"queryModel.name\" type=\"text\" placeholder=\"请输入元数据名称\"/>\n                <a>\n                  <span @click=\"search\" class=\"el-icon-search\"></span>\n                </a>\n              </div>\n            </li>\n            <li>\n              <el-button size=\"mini\" class=\"expand\" type=\"text\" @click='expand'>高级搜索<i\n                class=\"el-icon-arrow-down\"></i></el-button>\n            </li>\n          </ul>\n        </div>\n        <div class=\"expandarea\" :class=\"{active:expandQuery}\">\n          <el-form ref=\"form\" :model=\"queryModel\" size=\"mini\" label-width=\"100px\">\n            <el-row>\n              <el-col :span=\"8\">\n                <el-form-item label=\"feature名称：\">\n                  <el-input v-model=\"queryModel.name\" placeholder=\"请输入\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"23\" pull-right>\n                <el-form-item class=\"pull-right\">\n                  <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-search\" @click=\"search\" v-waves>搜索\n                  </el-button>\n                  <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-refresh\" @click=\"reset\" v-waves>重置\n                  </el-button>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </div>\n      </div>\n    </div>\n    <el-row>\n      <el-form label-position=\"top\" label-width=\"80px\">\n        <el-form-item label=\"审核版本\">\n          <CommonTag title=\"iOS\" :tagData=\"iosVersionListData\" buttonText=\"添加版本\" :metaData=\"['ios']\"\n                     @add=\"handleAddMetaDataList\" @delete=\"handleDeleteMetaData\"/>\n          <CommonTag title=\"Android\" :tagData=\"androidVersionListData\" buttonText=\"添加版本\"\n                     :metaData=\"['android']\"\n                     @add=\"handleAddMetaDataList\" @delete=\"handleDeleteMetaData\"/>\n        </el-form-item>\n      </el-form>\n    </el-row>\n\n    <el-table :data=\"list\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit highlight-current-row\n              :height=\"metaTableHeight\">\n      <el-table-column label=\"No\" type=\"index\" width=\"50\" align=\"center\" fixed></el-table-column>\n      <el-table-column label=\"名称\" align=\"center\" prop=\"name\"></el-table-column>\n      <el-table-column align=\"center\" label=\"Android可用性\" prop=\"available\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.androidEnable\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#ff4949\"\n            disabled>\n          </el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"iOS可用性\" prop=\"available\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.iosEnable\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#ff4949\"\n            disabled>\n          </el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <!--<el-button type=\"primary\" size=\"mini\" @click=\"editAvailability(scope)\">设置可用性</el-button>-->\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <div class=\"common-pagination-wrapper\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                     :current-page=\"pagination.page\" :page-sizes=\"[10,20,30,50]\" :page-size=\"pagination.limit\"\n                     layout=\"total, sizes, prev, pager, next, jumper\" :total=\"pagination.total\">\n      </el-pagination>\n    </div>\n    <!-- 弹框 -->\n    <el-dialog title=\"编辑\" :visible.sync=\"dialogFormVisible\" width=\"1200px\">\n      <el-row type=\"flex\" justify=\"center\">\n        <el-col :span=\"20\">\n          <el-form :rules=\"rules\" ref=\"formData\" :model=\"formData\" label-position=\"right\" label-width=\"140px\">\n            <el-form-item label=\"名称\" prop=\"name\">\n              <el-input v-model=\"formData.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"iOS可用性\" prop=\"iosEnable\">\n              <el-switch\n                v-model=\"formData.iosEnable\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\">\n              </el-switch>\n            </el-form-item>\n            <el-form-item label=\"Android可用性\" prop=\"androidEnable\">\n              <el-switch\n                v-model=\"formData.androidEnable\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\">\n              </el-switch>\n            </el-form-item>\n          </el-form>\n        </el-col>\n      </el-row>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" v-waves>{{$t('table.cancel')}}</el-button>\n        <el-button v-if=\"dialogStatus==='create'\" type=\"primary\" @click=\"createData\">{{$t('table.confirm')}}</el-button>\n        <el-button v-else type=\"primary\" @click=\"updateData\" v-waves>{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n  </el-row>\n</template>\n\n<script>\n  import CommonTag from '@/views/common/CommonTag.vue'\n\n  export default {\n    components: {\n      CommonTag\n    },\n    data() {\n      return {\n        editFeatureMetadata: 'meta-service/1.0.0/feature/',\n        featureListRequest: 'meta-service/1.0.0/feature/bk/list',\n        featureAvailabilityRequest: 'meta-service/1.0.0/availability',\n        versionListRequest: 'meta-service/1.0.0/availability/versionList/',\n        versionControlRequest: 'meta-service/1.0.0/versionControl/',\n\n        dialogFormVisible: false,\n        editFlag: true,\n        value2: '',\n        value1: '',\n        tableKey: 0,\n        list: null,\n        total: null,\n        listLoading: true,\n        importanceOptions: [1, 2, 3],\n        sortOptions: [{label: 'ID Ascending', key: '+id'}, {label: 'ID Descending', key: '-id'}],\n        statusOptions: ['published', 'draft', 'deleted'],\n        showReviewer: false,\n        formData: {\n          id: '',\n          name: '',\n          iosEnable: false,\n          androidEnable: false\n        },\n        dialogStatus: '',\n        textMap: {\n          update: 'Edit',\n          create: 'Create'\n        },\n        dialogPvVisible: false,\n        pvData: [],\n        rules: {\n          id: [{required: true, message: '请输入ID', trigger: 'change'}],\n          name: [{required: true, message: '请输入名称', trigger: 'change'}],\n          moduleId: [{required: true, message: '请输入名称', trigger: 'change'}],\n          type: [{required: true, message: '请输入名称', trigger: 'change'}],\n          iosEnable: [{required: true, message: '请输入名称', trigger: 'change'}],\n          androidEnable: [{required: true, message: '请输入名称', trigger: 'change'}],\n          version: [{required: true, message: '请输入名称', trigger: 'change'}],\n        },\n        downloadLoading: false,\n        pickerOptions0: {\n          disabledDate: (time) => {\n            if (this.value2 !== '') {\n              return time.getTime() > this.value2\n            }\n          }\n        },\n        pickerOptions1: {\n          disabledDate: (time) => {\n            return time.getTime() < this.value1\n          }\n        },\n        fileList: [],\n        portraitParams: {\n          bucketName: 'funyvalley',\n          folderName: 'icon'\n        },\n        iosVersionListData: [],\n        androidVersionListData: [],\n        searchTxt: '',\n        expandQuery: '',\n        queryModel: {\n          name: ''\n        },\n        pagination: {\n          page: 1,\n          limit: 20,\n          total: 0\n        }\n      }\n    },\n    computed: {\n      metaTableHeight() {\n        return this.$store.state.app.tableHeight - 140;\n      }\n    },\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          published: 'success',\n          draft: 'gray',\n          deleted: 'danger'\n        };\n        return statusMap[status]\n      }\n    },\n    mounted() {\n      this.getControllableVersionList();\n      this.getTableData();\n    },\n    methods: {\n      getTableData() {\n        this.listLoading = true;\n        this.queryModel = Object.assign(this.queryModel, this.pagination);\n        this.$http.get(this.$baseUrl + this.featureListRequest, {\n          params: Object.assign(this.queryModel, this.pagination)\n        }).then(response => {\n          console.log(response)\n          this.list = response.list;\n          this.pagination.total = response.total;\n          this.listLoading = false;\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      getControllableVersionList() {\n        this.$http.get(this.$baseUrl + this.versionListRequest).then(response => {\n          console.log(response)\n\n          this.androidVersionListData = response.androidList;\n          this.iosVersionListData = response.iosList;\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      handleFilter() {\n        this.pagination.page = 1;\n        this.getTableData()\n      },\n      handleSizeChange(val) {\n        this.pagination.limit = val;\n        this.getTableData()\n      },\n      handleCurrentChange(val) {\n        this.pagination.page = val;\n        this.getTableData()\n      },\n      resetTemp() {\n        this.formData = {\n          id: '',\n          name: '',\n        }\n      },\n      handleCreate() {\n        // this.resetTemp();\n        this.dialogStatus = 'create';\n        this.dialogFormVisible = true;\n        if (this.$refs.formData !== undefined) {\n          this.$refs.formData.resetFields();\n          this.$nextTick(() => {\n            this.$refs['formData'].clearValidate()\n          })\n        }\n\n      },\n      createData() {\n        const formData = this.formData;\n        this.$refs['formData'].validate((valid) => {\n          if (valid) {\n            this.$http.post(this.$baseUrl + this.editFeatureMetadata, {\n              name: formData.name,\n              id: '',\n              iosEnable: formData.iosEnable,\n              androidEnable: formData.androidEnable,\n            }, {\n              headers: {\n                'Authorization': 'Bearer ' + this.$store.state.user.token\n              }\n            }).then((response) => {\n              console.log(response)\n              this.dialogFormVisible = false;\n              this.$message.success('信息创建成功');\n              this.getTableData();\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          }\n        })\n      },\n      handleUpdate(scope) {\n        this.formData = Object.assign({}, scope.row);\n        console.log(this.formData)\n\n        this.dialogStatus = 'update';\n        this.dialogFormVisible = true;\n        this.$nextTick(() => {\n          this.$refs['formData'].clearValidate()\n        })\n      },\n      updateData() {\n        const formData = this.formData;\n        this.$refs['formData'].validate((valid) => {\n          this.$http.post(this.$baseUrl + this.editFeatureMetadata, {\n            name: formData.name,\n            id: formData.id,\n            iosEnable: formData.iosEnable,\n            androidEnable: formData.androidEnable,\n          }, {\n            headers: {\n              'Authorization': 'Bearer ' + this.$store.state.user.token\n            }\n          }).then((response) => {\n            console.log(response)\n            this.dialogFormVisible = false;\n            this.$message.success('信息修改成功');\n            this.getTableData();\n          }).catch(error => {\n            console.log(error)\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n          })\n        });\n      },\n      handleDelete(scope) {\n        this.$confirm('确认删除?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.delete(this.$baseUrl + `meta-service/1.0.0/feature/${scope.row.id}`, {\n            headers: {\n              'Authorization': 'Bearer ' + this.$store.state.user.token\n            }\n          }).then((response) => {\n            console.log(response)\n            this.dialogFormVisible = false;\n            this.$message.success('删除成功');\n            this.getTableData();\n          }).catch(error => {\n            console.log(error)\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      changeUpload(file) {\n        console.log(file)\n      },\n      handlePreview(file) {\n        console.log(file);\n        this.fileList.push(file);\n      },\n      uploadSuccess(response) {\n        this.loading = false;\n        console.log(response)\n        this.formData.icon = response.url;\n        this.loading = false;\n        this.$message({\n          message: '图片上传成功',\n          type: 'success'\n        });\n      },\n      uploadAvatarExceeded(files, fileList) {\n        if (fileList.length > 0) {\n          this.$confirm('当前已有上传图片，需先删除已有图片，请确认是否删除？', '提示', {\n            type: 'warning'\n          }).then(resolve => {\n            this.$refs['uploadAvatar'].clearFiles();\n            this.$http.get(this.$baseUrl + 'attachment/deleteAttachment/' + this.fileList[0].id).then(response => {\n              if (response.data.code === '200') {\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\n                this.componentModelData.uploaded = '';\n                this.$message.success('图片删除成功')\n              } else {\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\n                this.componentModelData.uploaded = '';\n                this.$message.warning('图片删除失败')\n              }\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          })\n        }\n      },\n      handleRemove() {\n\n      },\n      handleBeforeUpload(file) {\n        console.log(file)\n        let suffixDictionary = ['jpg', 'jpeg', 'png'];\n        let index1 = file.name.lastIndexOf('.') + 1;\n        let index2 = file.name.length;\n        let fileSuffix = file.name.substring(index1, index2);\n        if (suffixDictionary.filter(item => item === fileSuffix).length === 0) {\n          this.$message({\n            message: '文件必须为' + suffixDictionary.join('、') + '类型文件',\n            type: 'error'\n          });\n          return false;\n        }\n        if (file.size > 1024 * 1024 * 2) {\n          this.$message({\n            message: '文件不得大于2M',\n            type: 'error'\n          });\n          return false;\n        }\n        this.loading = true;\n      },\n      editAvailability() {\n        this.dialogFormVisible = true;\n      },\n      handleAddMetaDataList(data, type) {\n        console.log(data)\n        console.log(type)\n        if (data.length > 0 && data.filter(item => item === data[data.length - 1]).length > 1) {\n          return\n        }\n        this.$http.post(this.$baseUrl + this.versionControlRequest, {\n          deviceType: type,\n          version: data[data.length - 1]\n        }).then(response => {\n          console.log(response)\n          this.$message.success(response.response.data)\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      handleDeleteMetaData(data, index, type) {\n        this.$http.delete(this.$baseUrl + this.versionControlRequest + `${type}/${data}`, {\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Bearer ' + this.$store.state.user.token\n          }\n        }).then(response => {\n          console.log(response)\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      handleAndroidListChange(data) {\n\n      },\n      add() {\n\n      },\n      expand() {\n        this.expandQuery = !this.expandQuery;\n      },\n      search() {\n        this.getTableData()\n      },\n      reset() {\n        this.queryModel.available = true;\n      },\n      deleteImage(index) {\n        this.formData.iconPath = '';\n        this.fileList.splice(index, 1);\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/metaData/metaDataFeature.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"app-container\"},[_c('div',{staticClass:\"common-querytable-wrapper\"},[_c('div',{staticClass:\"queryform-wrapper\"},[_c('div',{staticClass:\"outside\"},[_c('el-form',{staticClass:\"basearea\"},[_c('ul',{staticClass:\"pull-left\"},[_c('li',[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n                新增\\n              \")])],1)])]),_vm._v(\" \"),_c('ul',{staticClass:\"operation-wrapper pull-right\"},[_c('li',[_c('div',{staticClass:\"common-search-wrapper\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.search($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.queryModel.name),expression:\"queryModel.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入元数据名称\"},domProps:{\"value\":(_vm.queryModel.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.queryModel, \"name\", $event.target.value)}}}),_vm._v(\" \"),_c('a',[_c('span',{staticClass:\"el-icon-search\",on:{\"click\":_vm.search}})])])]),_vm._v(\" \"),_c('li',[_c('el-button',{staticClass:\"expand\",attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":_vm.expand}},[_vm._v(\"高级搜索\"),_c('i',{staticClass:\"el-icon-arrow-down\"})])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"expandarea\",class:{active:_vm.expandQuery}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.queryModel,\"size\":\"mini\",\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"feature名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.queryModel.name),callback:function ($$v) {_vm.$set(_vm.queryModel, \"name\", $$v)},expression:\"queryModel.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":23,\"pull-right\":\"\"}},[_c('el-form-item',{staticClass:\"pull-right\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\\n                \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\\n                \")])],1)],1)],1)],1)],1)])]),_vm._v(\" \"),_c('el-row',[_c('el-form',{attrs:{\"label-position\":\"top\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"审核版本\"}},[_c('CommonTag',{attrs:{\"title\":\"iOS\",\"tagData\":_vm.iosVersionListData,\"buttonText\":\"添加版本\",\"metaData\":['ios']},on:{\"add\":_vm.handleAddMetaDataList,\"delete\":_vm.handleDeleteMetaData}}),_vm._v(\" \"),_c('CommonTag',{attrs:{\"title\":\"Android\",\"tagData\":_vm.androidVersionListData,\"buttonText\":\"添加版本\",\"metaData\":['android']},on:{\"add\":_vm.handleAddMetaDataList,\"delete\":_vm.handleDeleteMetaData}})],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":_vm.metaTableHeight}},[_c('el-table-column',{attrs:{\"label\":\"No\",\"type\":\"index\",\"width\":\"50\",\"align\":\"center\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"名称\",\"align\":\"center\",\"prop\":\"name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Android可用性\",\"prop\":\"available\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"disabled\":\"\"},model:{value:(scope.row.androidEnable),callback:function ($$v) {_vm.$set(scope.row, \"androidEnable\", $$v)},expression:\"scope.row.androidEnable\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"iOS可用性\",\"prop\":\"available\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"disabled\":\"\"},model:{value:(scope.row.iosEnable),callback:function ($$v) {_vm.$set(scope.row, \"iosEnable\", $$v)},expression:\"scope.row.iosEnable\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleUpdate(scope)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"common-pagination-wrapper\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pagination.page,\"page-sizes\":[10,20,30,50],\"page-size\":_vm.pagination.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.dialogFormVisible,\"width\":\"1200px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{ref:\"formData\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"iOS可用性\",\"prop\":\"iosEnable\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.formData.iosEnable),callback:function ($$v) {_vm.$set(_vm.formData, \"iosEnable\", $$v)},expression:\"formData.iosEnable\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Android可用性\",\"prop\":\"androidEnable\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.formData.androidEnable),callback:function ($$v) {_vm.$set(_vm.formData, \"androidEnable\", $$v)},expression:\"formData.androidEnable\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_vm._v(\" \"),(_vm.dialogStatus==='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))]):_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0b7afdff\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/metaData/metaDataFeature.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./metaDataFeature.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./metaDataFeature.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b7afdff\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./metaDataFeature.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/metaData/metaDataFeature.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}