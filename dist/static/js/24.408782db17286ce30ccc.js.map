{"version":3,"sources":["webpack:///src/views/betterDiscount/categoryList.vue","webpack:///./src/views/betterDiscount/categoryList.vue?7424","webpack:///./src/views/betterDiscount/categoryList.vue"],"names":["categoryList","_this","this","value2","value1","tableHeight","getTableData","_this2","response","error","val","_this3","status","_this4","resetTemp","clearValidate","_this5","formData","title","summary","imageUrl","then","_this6","id","row","_this7","type","_this8","file","expandQuery","length","index2","url","_this9","resolve","clearFiles","betterDiscount_categoryList","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","attrs","size","icon","on","click","handleCreate","_v","class","active","ref","model","queryModel","label-width","span","pull-right","search","reset","value","expression","modifiers","body","data","tableData","element-loading-text","border","fit","highlight-current-row","height","align","label","width","prop","scopedSlots","_u","key","fn","scope","src","_s","$event","handleUpdate","handleDelete","textMap","dialogStatus","visible","dialogFormVisible","update:visible","justify","rules","label-position","callback","$$v","$set","_l","item","index","deleteImage","action","$baseUrl","limit","show-file-list","before-upload","handleBeforeUpload","on-preview","handlePreview","on-remove","handleRemove","on-success","uploadSuccess","on-exceed","uploadAvatarExceeded","file-list","fileList","portraitParams","slot","active-value","inactive-value","active-color","inactive-color","$t","add","update","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/24.408782db17286ce30ccc.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"common-querytable-wrapper\">\n      <div class=\"queryform-wrapper\">\n        <div class=\"outside\">\n          <el-form class=\"basearea\">\n            <ul class=\"pull-left\">\n              <li>\n                <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate\" v-waves>\n                  新增\n                </el-button>\n              </li>\n            </ul>\n          </el-form>\n          <ul class=\"operation-wrapper pull-right\">\n            <!--<li>-->\n              <!--<div class=\"common-search-wrapper\" @keyup.enter=\"onSearch\">-->\n                <!--<input v-model=\"searchTxt\" type=\"text\" placeholder=\"请输入名称\"/>-->\n                <!--<a>-->\n                  <!--<span @click=\"search\" class=\"el-icon-search\"></span>-->\n                <!--</a>-->\n              <!--</div>-->\n            <!--</li>-->\n            <!--<li>-->\n              <!--<el-button size=\"mini\" class=\"expand\" type=\"text\" @click='expand'>高级搜索<i-->\n                <!--class=\"el-icon-arrow-down\"></i></el-button>-->\n            <!--</li>-->\n          </ul>\n        </div>\n        <div class=\"expandarea\" :class=\"{active:expandQuery}\">\n          <el-form ref=\"form\" :model=\"queryModel\" size=\"mini\" label-width=\"100px\">\n            <el-row>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n              <el-col :span=\"8\">\n\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"23\" pull-right>\n                <el-form-item class=\"pull-right\">\n                  <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-search\"\n                             @click=\"search\">搜索\n                  </el-button>\n                  <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-refresh\"\n                             @click=\"reset\">重置\n                  </el-button>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </div>\n      </div>\n    </div>\n\n\n    <el-table :data=\"tableData\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit\n              highlight-current-row :height=\"tableHeight\">\n      <el-table-column align=\"center\" label='ID' width=\"40\" prop=\"id\"></el-table-column>\n      <el-table-column label=\"商品类目\" align=\"center\" prop=\"title\"></el-table-column>\n      <el-table-column label=\"商品类目副标题\" align=\"center\" prop=\"summary\"></el-table-column>\n      <el-table-column label=\"图片\" width=\"150\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <img :src=\"scope.row.imageUrl+'-style_100x100'\" width=\"80\">\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"可用性\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          {{scope.row.status==='0'?'不可用':'可用'}}\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <!--<div class=\"common-pagination-wrapper\">-->\n      <!--<el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"-->\n                     <!--:current-page=\"pagination.page\" :page-sizes=\"[10,20,30,50]\" :page-size=\"pagination.limit\"-->\n                     <!--layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">-->\n      <!--</el-pagination>-->\n    <!--</div>-->\n    <!-- 弹框 -->\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width=\"1200px\">\n      <el-row type=\"flex\" justify=\"center\">\n        <el-col :span=\"20\">\n          <el-form :rules=\"rules\" ref=\"formData\" :model=\"formData\" label-position=\"right\" label-width=\"130px\">\n            <el-form-item label=\"商品类目\" prop=\"title\">\n              <el-input v-model=\"formData.title\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品类目副标题\" prop=\"summary\">\n              <el-input v-model=\"formData.summary\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"图片\" prop=\"imageUrl\">\n              <div class=\"common-imguploadpreview-wrapper\">\n                <div v-if=\"formData.imageUrl===''||formData.imageUrl===null\">\n                  暂无图片\n                </div>\n                <div v-else v-for=\"(item, index) in [formData.imageUrl]\" class=\"image-item\">\n                  <img :src=\"item+'-style_100x100'\" class=\"avatar\" />\n                  <ul class=\"operator\">\n                    <li>\n                      <a class=\"el-icon-delete\" @click=\"deleteImage(index)\"></a>\n                    </li>\n                  </ul>\n                </div>\n\n\n\n                <!--<a v-if=\"formData.imageUrl!==''\" class=\"close\">-->\n                  <!--<span class=\"iconfont icon-crosswide\"></span>-->\n                <!--</a>-->\n                <!--<img v-if=\"formData.imageUrl===''||formData.imageUrl===undefined||formData.imageUrl===null\"-->\n                     <!--src=\"../../../static/img/default/defaultavatar_60_60.png\"-->\n                     <!--class=\"avatar\" />-->\n                <!--<img v-else :src=\"formData.imageUrl+'-style_100x100'\"-->\n                     <!--class=\"avatar\" />-->\n              </div>\n              <el-upload\n                class=\"common-imguploadpreview-wrapper\"\n                ref=\"uploadAvatar\"\n                :action=\"$baseUrl+'image-upload-service/1.0.0/file/upload'\"\n                :limit=\"1\"\n                :show-file-list=\"false\"\n                :before-upload=\"handleBeforeUpload\"\n                :on-preview=\"handlePreview\"\n                :on-remove=\"handleRemove\"\n                :on-success=\"uploadSuccess\"\n                :on-exceed=\"uploadAvatarExceeded\"\n                :file-list=\"fileList\"\n                :data=\"portraitParams\">\n                <el-button v-waves size=\"small\" type=\"primary\">点击上传</el-button>\n                <div slot=\"tip\" class=\"el-upload__tip\">\n                  只能上传jpg/png文件，且不超过10MB\n                </div>\n              </el-upload>\n            </el-form-item>\n            <el-form-item label=\"状态\" prop=\"status\">\n              <el-switch v-model=\"formData.status\" active-value=\"1\" inactive-value=\"0\" active-color=\"#13ce66\"\n                         inactive-color=\"#ff4949\">\n              </el-switch>\n            </el-form-item>\n          </el-form>\n        </el-col>\n      </el-row>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" v-waves>{{$t('table.cancel')}}</el-button>\n        <el-button v-if=\"dialogStatus==='create'\" type=\"primary\" @click=\"add\">{{$t('table.confirm')}}</el-button>\n        <el-button v-else type=\"primary\" @click=\"update\">{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n    <!--  -->\n  </div>\n</template>\n\n<script>\n\n  export default {\n    data() {\n      return {\n        categoryListRequest: 'better-discount-service/1.0.0/queryTitleTypeList',\n        addTitleTypeRequest: 'better-discount-service/1.0.0/addTitleType',\n        updateTitleTypeRequest: 'better-discount-service/1.0.0/updateTitleType',\n        deleteTitleTypeRequest: 'better-discount-service/1.0.0/deleteTitleType',\n\n\n        statusDictionary: [{\n          name: '不可用',\n          code: '0'\n        }, {\n          name: '可用',\n          code: '1'\n        }],\n\n        value2: '',\n        value1: '',\n        tableKey: 0,\n        tableData: [],\n        total: null,\n        listLoading: true,\n        queryModel: {\n          importance: null,\n          keyword: '',\n          type: null,\n          sort: '+id'\n        },\n        pagination:{\n          page: 1,\n          limit: 20,\n        },\n        importanceOptions: [1, 2, 3],\n        sortOptions: [{label: 'ID Ascending', key: '+id'}, {label: 'ID Descending', key: '-id'}],\n        statusOptions: ['published', 'draft', 'deleted'],\n        showReviewer: false,\n        formData: {\n          id: null,\n          title: '',\n          summary: '',\n          type: null,\n          imageUrl: null,\n          status: '',\n        },\n        rules: {\n          name: [{required: true, message: 'name is required', trigger: 'change'}],\n          timestamp: [{type: 'date', required: true, message: 'timestamp is required', trigger: 'change'}],\n          title: [{required: true, message: 'title is required', trigger: 'change'}],\n          summary: [{required: true, message: 'title is required', trigger: 'change'}],\n          type: [{required: true, message: 'title is required', trigger: 'change'}],\n          imageUrl: [{required: true, message: 'title is required', trigger: 'change'}],\n          status: [{required: true, message: 'title is required', trigger: 'change'}]\n        },\n        dialogFormVisible: false,\n        dialogStatus: '',\n        textMap: {\n          update: 'Edit',\n          create: 'Create'\n        },\n        dialogPvVisible: false,\n        pvData: [],\n\n        downloadLoading: false,\n        pickerOptions0: {\n          disabledDate: (time) => {\n            if (this.value2 !== '') {\n              return time.getTime() > this.value2\n            }\n          }\n        },\n        pickerOptions1: {\n          disabledDate: (time) => {\n            return time.getTime() < this.value1\n          }\n        },\n        iosVersionListData: [],\n        androidVersionListData: [],\n        searchTxt: '',\n        expandQuery: '',\n        fileList: [],\n        portraitParams: {\n          bucketName: 'funyvalley',\n          folderName: 'icon'\n        },\n      }\n    },\n    computed:{\n      tableHeight(){\n        return this.$store.state.app.tableHeight\n      }\n    },\n    mounted() {\n      this.getTableData()\n    },\n    methods: {\n      getTableData() {\n        this.listLoading = true;\n        this.$http.get(this.$baseUrl + this.categoryListRequest).then(response => {\n          console.log(response);\n          this.tableData = response;\n          this.listLoading = false;\n        }).catch(error => {\n          console.log(error)\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n        })\n      },\n      handleFilter() {\n        this.pagination.page = 1;\n        this.getTableData()\n      },\n      handleSizeChange(val) {\n        this.pagination.limit = val;\n        this.getTableData()\n      },\n      handleCurrentChange(val) {\n        this.pagination.page = val;\n        this.getTableData()\n      },\n      updateShelfStatus(row, status) {\n        updateShelfStatusRequest(row.id, status).then(response => {\n          if (response) {\n            this.$message({\n              message: '操作成功',\n              type: 'success'\n            })\n            row.isShow = status\n          } else {\n            this.$message({\n              message: '操作失败',\n              type: 'error'\n            })\n          }\n        })\n      },\n      resetTemp() {\n        this.formData = {\n          id: null,\n          title: '',\n          summary: '',\n          type: null,\n          imageUrl: null,\n          status: '',\n        }\n      },\n      handleCreate() {\n        this.resetTemp()\n        this.dialogStatus = 'create';\n        this.dialogFormVisible = true;\n        this.$nextTick(() => {\n          this.$refs['formData'].clearValidate()\n        })\n      },\n      add() {\n        this.$refs.formData.validate(valid => {\n          if (valid) {\n            console.log(this.formData)\n            this.$http.post(this.$baseUrl + this.addTitleTypeRequest, {\n              title: this.formData.title,\n              summary: this.formData.summary,\n              imageUrl: this.formData.imageUrl,\n              status: this.formData.status,\n            }).then(response => {\n              this.$message.success('产品类型创建成功');\n              this.dialogFormVisible = false;\n              this.getTableData();\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          }\n        });\n      },\n      handleUpdate(scope) {\n        this.formData.id = scope.row.id;\n        this.dialogFormVisible = true;\n        this.dialogStatus = 'update';\n        this.formData = scope.row;\n        console.log(this.formData)\n        this.$nextTick(() => {\n          this.$refs['formData'].clearValidate()\n        })\n      },\n      update() {\n        this.$refs.formData.validate(valid => {\n          if (valid) {\n            this.$http.post(this.$baseUrl + this.updateTitleTypeRequest, {\n              id: this.formData.id,\n              type: this.formData.type,\n              title: this.formData.title,\n              summary: this.formData.summary,\n              imageUrl: this.formData.imageUrl,\n              status: this.formData.status,\n            }).then(response => {\n              this.$message.success('修改成功')\n              this.dialogFormVisible = false;\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          }\n        });\n      },\n      handleDelete(scope) {\n        this.$confirm('确认删除?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.get(this.$baseUrl + this.deleteTitleTypeRequest + `/${scope.row.type}`).then(response => {\n            this.$message.success('删除成功');\n            this.getTableData();\n          }).catch(error => {\n            console.log(error)\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n          })\n        }).catch(() => {\n          this.$message.info('已取消删除')\n        });\n      },\n      changeUpload(file) {\n        console.log(file)\n      },\n      handleAndroidListChange(data) {\n\n      },\n\n      expand() {\n        this.expandQuery = !this.expandQuery;\n      },\n      search() {\n\n      },\n      reset() {\n        this.queryModel.name = '';\n        this.queryModel.type = null;\n        this.queryModel.goodsNumber = '';\n        this.pagination.page = 1;\n        this.getTableData();\n      },\n      handleBeforeUpload(file) {\n        console.log(file)\n        let suffixDictionary = ['jpg', 'jpeg', 'png'];\n        let index1 = file.name.lastIndexOf('.') + 1;\n        let index2 = file.name.length;\n        let fileSuffix = file.name.substring(index1, index2);\n        if (suffixDictionary.filter(item => item === fileSuffix).length === 0) {\n          this.$message({\n            message: '文件必须为' + suffixDictionary.join('、') + '类型文件',\n            type: 'error'\n          });\n          return false;\n        }\n        if (file.size > 1024 * 1024 * 2) {\n          this.$message({\n            message: '文件不得大于2M',\n            type: 'error'\n          });\n          return false;\n        }\n        this.loading = true;\n      },\n      handlePreview(file) {\n        console.log(file);\n        this.fileList.push(file);\n      },\n      handleRemove() {\n\n      },\n      uploadSuccess(response) {\n        this.loading = false;\n        console.log(response)\n        this.formData.imageUrl = response.url;\n        this.fileList.push(response);\n        this.loading = false;\n        this.$message({\n          message: '图片上传成功',\n          type: 'success'\n        });\n      },\n      uploadAvatarExceeded(files, fileList) {\n        if (fileList.length > 0) {\n          this.$confirm('当前已有上传图片，需先删除已有图片，请确认是否删除？', '提示', {\n            type: 'warning'\n          }).then(resolve => {\n            this.$refs['uploadAvatar'].clearFiles();\n            this.$http.get(this.$baseUrl + 'attachment/deleteAttachment/' + this.fileList[0].id).then(response => {\n              if (response.data.code === '200') {\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\n                this.componentModelData.uploaded = '';\n                this.$message.success('图片删除成功')\n              } else {\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\n                this.componentModelData.uploaded = '';\n                this.$message.warning('图片删除失败')\n              }\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          })\n        }\n      },\n      deleteImage(index) {\n        this.formData.imageUrl = '';\n        this.fileList.splice(index, 1);\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/betterDiscount/categoryList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"common-querytable-wrapper\"},[_c('div',{staticClass:\"queryform-wrapper\"},[_c('div',{staticClass:\"outside\"},[_c('el-form',{staticClass:\"basearea\"},[_c('ul',{staticClass:\"pull-left\"},[_c('li',[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n                新增\\n              \")])],1)])]),_vm._v(\" \"),_c('ul',{staticClass:\"operation-wrapper pull-right\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"expandarea\",class:{active:_vm.expandQuery}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.queryModel,\"size\":\"mini\",\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":23,\"pull-right\":\"\"}},[_c('el-form-item',{staticClass:\"pull-right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\\n                \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\\n                \")])],1)],1)],1)],1)],1)])]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.tableData,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\",\"width\":\"40\",\"prop\":\"id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品类目\",\"align\":\"center\",\"prop\":\"title\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品类目副标题\",\"align\":\"center\",\"prop\":\"summary\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"图片\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.imageUrl+'-style_100x100',\"width\":\"80\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"可用性\",\"prop\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.status==='0'?'不可用':'可用')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleUpdate(scope)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"width\":\"1200px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{ref:\"formData\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"label-position\":\"right\",\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品类目\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品类目副标题\",\"prop\":\"summary\"}},[_c('el-input',{model:{value:(_vm.formData.summary),callback:function ($$v) {_vm.$set(_vm.formData, \"summary\", $$v)},expression:\"formData.summary\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片\",\"prop\":\"imageUrl\"}},[_c('div',{staticClass:\"common-imguploadpreview-wrapper\"},[(_vm.formData.imageUrl===''||_vm.formData.imageUrl===null)?_c('div',[_vm._v(\"\\n                暂无图片\\n              \")]):_vm._l(([_vm.formData.imageUrl]),function(item,index){return _c('div',{staticClass:\"image-item\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item+'-style_100x100'}}),_vm._v(\" \"),_c('ul',{staticClass:\"operator\"},[_c('li',[_c('a',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){_vm.deleteImage(index)}}})])])])})],2),_vm._v(\" \"),_c('el-upload',{ref:\"uploadAvatar\",staticClass:\"common-imguploadpreview-wrapper\",attrs:{\"action\":_vm.$baseUrl+'image-upload-service/1.0.0/file/upload',\"limit\":1,\"show-file-list\":false,\"before-upload\":_vm.handleBeforeUpload,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.uploadSuccess,\"on-exceed\":_vm.uploadAvatarExceeded,\"file-list\":_vm.fileList,\"data\":_vm.portraitParams}},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"\\n                只能上传jpg/png文件，且不超过10MB\\n              \")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-switch',{attrs:{\"active-value\":\"1\",\"inactive-value\":\"0\",\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_vm._v(\" \"),(_vm.dialogStatus==='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(_vm._s(_vm.$t('table.confirm')))]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-54d9f306\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/betterDiscount/categoryList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./categoryList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./categoryList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54d9f306\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./categoryList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/betterDiscount/categoryList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}