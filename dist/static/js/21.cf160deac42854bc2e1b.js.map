{"version":3,"sources":["webpack:///src/views/game/gameType.vue","webpack:///./src/views/game/gameType.vue?6c0c","webpack:///./src/views/game/gameType.vue"],"names":["gameType","CommonTag","CommonQuery","_this","this","value2","value1","tableHeight","value","getTableData","_this2","pagination","queryModel","then","response","list","total","val","_this3","resetTemp","resetFields","clearValidate","updateData","_this4","scope","row","endDate","_this5","id","name","status","topNumber","error","_this6","file","url","_this7","resolve","clearFiles","length","index2","type","iosEnable","androidEnable","version","availabilityFormData","expandQuery","game_gameType","render","_vm","_h","$createElement","_c","_self","staticClass","slot","directives","rawName","attrs","size","icon","on","click","handleCreate","_v","keyup","$event","_k","keyCode","key","search","expression","placeholder","domProps","input","target","composing","$set","modifiers","body","data","tableList","element-loading-text","border","fit","highlight-current-row","height","label","width","align","fixed","prop","scopedSlots","_u","fn","_s","statusDictionary","filter","item","code","disabled","handleUpdate","background","current-page","page","page-sizes","page-size","limit","layout","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","title","textMap","dialogStatus","visible","dialogFormVisible","update:visible","justify","span","ref","rules","model","formData","label-position","label-width","callback","$$v","_l","min","$t","createData","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/21.cf160deac42854bc2e1b.js","sourcesContent":["<\n<template>\n  <el-row class=\"app-container\">\n    <CommonQuery>\n      <template slot=\"button1\">\n        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate\" v-waves>\n          新增\n        </el-button>\n      </template>\n      <template slot=\"query1\">\n        <div class=\"common-search-wrapper\" @keyup.enter=\"search\">\n          <input v-model=\"queryModel.name\" type=\"text\" placeholder=\"请输入游戏名称\"/>\n          <a>\n            <span @click=\"search\" class=\"el-icon-search\"></span>\n          </a>\n        </div>\n      </template>\n    </CommonQuery>\n\n    <el-table :data=\"tableList\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit\n              highlight-current-row\n              :height=\"tableHeight\">\n      <el-table-column label=\"No\" type=\"index\" width=\"50\" align=\"center\" fixed></el-table-column>\n      <el-table-column label=\"名称\" align=\"center\" prop=\"name\"></el-table-column>\n      <el-table-column align=\"center\" label=\"游戏状态\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"scope.row.status===0?'info':'success'\">\n            {{(scope.row.status!==''&&scope.row.status!==null)?statusDictionary.filter(item=>item.code===scope.row.status)[0].name:''}}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"操作\" width=\"200px\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope)\" disabled>编辑</el-button>\n          <!--<el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope)\">删除</el-button>-->\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <div class=\"common-pagination-wrapper\">\n      <el-pagination background @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page.sync=\"pagination.page\"\n                     :page-sizes=\"[10,20,30,50]\"\n                     :page-size=\"pagination.limit\"\n                     :total=\"total\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n      >\n      </el-pagination>\n    </div>\n    <!-- 弹框 -->\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width=\"850px\">\n      <el-row type=\"flex\" justify=\"center\">\n        <el-col :span=\"20\">\n\n          <el-form :rules=\"rules\" ref=\"formData\" :model=\"formData\" label-position=\"right\" label-width=\"140px\">\n            <el-form-item label=\"名称\" prop=\"name\">\n              <el-input v-model=\"formData.name\"></el-input>\n            </el-form-item>\n\n\n            <el-form-item label=\"status\" prop=\"status\">\n              <el-select v-model=\"formData.status\">\n                <el-option v-for=\"item in statusDictionary\" :label=\"item.name\" :value=\"item.code\"\n                           :key=\"item.code\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"置顶数\" prop=\"topNumber\">\n              <el-input-number v-model=\"formData.topNumber\" :min=\"0\" label=\"描述文字\"></el-input-number>\n            </el-form-item>\n\n          </el-form>\n        </el-col>\n      </el-row>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" v-waves>{{$t('table.cancel')}}</el-button>\n        <el-button v-if=\"dialogStatus==='create'\" type=\"primary\" @click=\"createData\">{{$t('table.confirm')}}</el-button>\n        <el-button v-else type=\"primary\" @click=\"updateData\" v-waves>{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n  </el-row>\n</template>`\n\n<script>\n  import CommonTag from '@/views/common/CommonTag.vue'\n  import CommonQuery from '@/views/common/CommonQuery.vue'\n\n  export default {\n    components: {\n      CommonTag,\n      CommonQuery\n    },\n    data() {\n      return {\n        game_typeListRequest: 'game-service/1.0.0/game_type/list',\n        game_typeAddOrUpdateRequest: 'game-service/1.0.0/game_type/addOrUpdate',\n        game_typeDeleteRequest: 'game-service/1.0.0/game_type/delete',\n\n        value2: '',\n        value1: '',\n        tableKey: 0,\n        tableList: [],\n        total: null,\n        listLoading: true,\n        availabilityFlag: false,\n        dynamicTags: ['标签一', '标签二', '标签三'],\n        queryModel: {\n          \"title\": '',\n          \"status\": '',\n          \"name\": '',\n          \"gender\": '',\n          \"birthday\": '',\n        },\n        natureDictionary: [{\n          code: 1,\n          name: 'app'\n        }, {\n          code: 2,\n          name: '网页'\n        }],\n        statusDictionary: [{\n          code: 0,\n          name: '未上线'\n        }, {\n          code: 1,\n          name: '上线'\n        }],\n        pagination: {\n          page: 1,\n          limit: 20,\n        },\n        importanceOptions: [1, 2, 3],\n        sortOptions: [{label: 'ID Ascending', key: '+id'}, {label: 'ID Descending', key: '-id'}],\n        statusOptions: ['published', 'draft', 'deleted'],\n        showReviewer: false,\n        formData: {\n          id: 0,\n          name: '',\n          \"title\": \"\",\n          \"description\": '',\n          \"iconUrl\": \"\",\n          \"bigImageUrl\": \"\",\n          \"iosDownloadUrl\": \"\",\n          androidDownloadUrl: '',\n          webGameUrl: '',\n          nature: \"\",\n          ios: false,\n          android: false,\n          status: null\n        },\n        dialogFormVisible: false,\n        dialogStatus: '',\n        textMap: {\n          update: 'Edit',\n          create: 'Create'\n        },\n        dialogPvVisible: false,\n        availabilityFormData: {\n          moduleId: '',\n          type: '',\n          iosEnable: '',\n          androidEnable: '',\n          version: ''\n        },\n        rules: {\n          title: [{required: true, message: '请输入显示名称', trigger: 'change'}],\n          name: [{required: true, message: '请输入唯一表示名称', trigger: 'change'}],\n          description: [{required: true, message: '请输入游戏描述', trigger: 'change'}],\n          iconUrl: [{required: true, message: '请上传图片', trigger: 'change'}],\n          bigImageUrl: [{required: true, message: '请上传图片', trigger: 'change'}],\n          iosDownloadUrl: [{required: true, message: '此项为必填项', trigger: 'change'}],\n          androidDownloadUrl: [{required: true, message: '此项为必填项', trigger: 'change'}],\n          webGameUrl: [{required: true, message: '此项为必填项', trigger: 'change'}],\n          nature: [{required: true, message: '此项为必填项', trigger: 'change'}],\n          ios: [{required: true, message: '此项为必填项', trigger: 'change'}],\n          android: [{required: true, message: '此项为必填项', trigger: 'change'}],\n          status: [{required: true, message: '此项为必填项', trigger: 'change'}],\n        },\n        downloadLoading: false,\n        pickerOptions0: {\n          disabledDate: (time) => {\n            if (this.value2 !== '') {\n              return time.getTime() > this.value2\n            }\n          }\n        },\n        pickerOptions1: {\n          disabledDate: (time) => {\n            return time.getTime() < this.value1\n          }\n        },\n        fileList: [],\n        portraitParams: {\n          bucketName: 'funyvalley',\n          folderName: 'icon'\n        },\n        iosVersionListData: [],\n        androidVersionListData: [],\n        searchTxt: '',\n        expandQuery: '',\n\n      }\n    },\n    computed: {\n      tableHeight() {\n        return this.$store.state.app.tableHeight;\n      }\n    },\n    watch: {\n      effectiveDuration(value) {\n        console.log(value)\n        if (value === null) {\n          value = [];\n        }\n        this.formData.startDate = this.$moment(value[0]).format('YYYY-MM-DD');\n        this.formData.endDate = this.$moment(value[1]).format('YYYY-MM-DD');\n      }\n    },\n    mounted() {\n      this.getTableData()\n    },\n    methods: {\n      getTableData() {\n        this.listLoading = true;\n        this.queryModel = Object.assign(this.queryModel, this.pagination);\n        this.$http.get(this.$baseUrl + this.game_typeListRequest, {\n          params: this.queryModel\n        }).then(response => {\n          console.log(response)\n\n          this.tableList = response.list;\n          this.total = response.total;\n          this.listLoading = false\n        })\n      },\n      handleFilter() {\n        this.pagination.page = 1;\n        this.getTableData()\n      },\n      handleSizeChange(val) {\n        this.pagination.limit = val;\n        this.getTableData()\n      },\n      handleCurrentChange(val) {\n        this.pagination.page = val;\n        this.getTableData()\n      },\n      resetTemp() {\n        this.formData = {\n          id: 0,\n          name: '',\n          \"title\": \"\",\n          \"description\": '',\n          \"iconUrl\": \"\",\n          \"bigImageUrl\": \"\",\n          \"iosDownloadUrl\": \"\",\n          androidDownloadUrl: '',\n          webGameUrl: '',\n          nature: \"\",\n          ios: false,\n          android: false,\n          status: null\n        };\n        this.fileList = []\n      },\n      handleCreate() {\n        this.resetTemp();\n        this.dialogStatus = 'create';\n        this.dialogFormVisible = true;\n        if (this.$refs.formData !== undefined) {\n          this.$refs.formData.resetFields();\n          this.$nextTick(() => {\n            this.$refs['formData'].clearValidate()\n          })\n        }\n      },\n      createData() {\n        this.formData.id = 0;\n        this.updateData();\n      },\n      handleUpdate(scope) {\n        console.log(scope)\n        this.formData = Object.assign({}, scope.row);\n        this.effectiveDuration = [scope.row.startDate, scope.row.endDate]\n\n        this.dialogStatus = 'update';\n        this.dialogFormVisible = true;\n        this.$nextTick(() => {\n          this.$refs['formData'].clearValidate()\n        })\n      },\n      updateData() {\n        this.$refs['formData'].validate((valid) => {\n          if (valid) {\n            this.$http.post(this.$baseUrl + this.game_typeAddOrUpdateRequest, {\n              id: this.formData.id,\n              name: this.formData.name,\n              status: this.formData.status,\n              topNumber: this.formData.topNumber\n            }).then((response) => {\n              console.log(response)\n              this.dialogFormVisible = false;\n              this.$message.success('信息修改成功');\n              this.getTableData();\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          }\n        });\n      },\n      handleDelete(scope) {\n        this.$confirm('确认删除?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.delete(this.$baseUrl + this.game_typeDeleteRequest+`/${scope.row.id}`).then((response) => {\n            console.log(response)\n            this.dialogFormVisible = false;\n            this.$message.success('删除成功');\n            this.getTableData();\n          }).catch(error => {\n            console.log(error)\n            this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      changeUpload(file) {\n        console.log(file)\n      },\n      handlePreview(file) {\n        console.log(file);\n        this.fileList.push(file);\n      },\n      uploadSuccess1(response) {\n        this.loading = false;\n        console.log(response)\n        this.formData.iconUrl = response.url;\n        this.loading = false;\n        this.$message({\n          message: '图片上传成功',\n          type: 'success'\n        });\n      },\n      uploadSuccess2(response) {\n        this.loading = false;\n        console.log(response)\n        this.formData.bigImageUrl = response.url;\n        this.loading = false;\n        this.$message({\n          message: '图片上传成功',\n          type: 'success'\n        });\n      },\n      uploadAvatarExceeded(files, fileList) {\n        if (fileList.length > 0) {\n          this.$confirm('当前已有上传图片，需先删除已有图片，请确认是否删除？', '提示', {\n            type: 'warning'\n          }).then(resolve => {\n            this.$refs['uploadAvatar'].clearFiles();\n            this.$http.get(this.$baseUrl + 'attachment/deleteAttachment/' + this.fileList[0].id).then(response => {\n              if (response.data.code === '200') {\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\n                this.componentModelData.uploaded = '';\n                this.$message.success('图片删除成功')\n              } else {\n                this.fileList.splice(this.fileList.indexOf(response.id), 1);\n                this.componentModelData.uploaded = '';\n                this.$message.warning('图片删除失败')\n              }\n            }).catch(error => {\n              console.log(error)\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\n            })\n          })\n        }\n      },\n      handleRemove() {\n\n      },\n      handleBeforeUpload(file) {\n        console.log(file)\n        let suffixDictionary = ['jpg', 'jpeg', 'png'];\n        let index1 = file.name.lastIndexOf('.') + 1;\n        let index2 = file.name.length;\n        let fileSuffix = file.name.substring(index1, index2);\n        if (suffixDictionary.filter(item => item === fileSuffix).length === 0) {\n          this.$message({\n            message: '文件必须为' + suffixDictionary.join('、') + '类型文件',\n            type: 'error'\n          });\n          return false;\n        }\n        if (file.size > 1024 * 1024 * 2) {\n          this.$message({\n            message: '文件不得大于2M',\n            type: 'error'\n          });\n          return false;\n        }\n        this.loading = true;\n      },\n      editAvailability(scope) {\n        console.log(scope.row)\n\n        this.availabilityFormData = Object.assign({}, {\n          \"moduleId\": scope.row.id,\n          \"type\": scope.row.type,\n          \"iosEnable\": scope.row.iosEnable,\n          \"androidEnable\": scope.row.androidEnable,\n          \"version\": scope.row.version,\n        })\n        console.log(this.availabilityFormData)\n        this.availabilityFlag = true;\n\n      },\n      expand() {\n        this.expandQuery = !this.expandQuery;\n      },\n      search() {\n        this.getTableData();\n      },\n      reset() {\n        this.queryModel.available = true;\n      },\n      deleteImage(index) {\n        this.formData.icon = '';\n        this.fileList.splice(index, 1);\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/game/gameType.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"app-container\"},[_c('CommonQuery',[_c('template',{slot:\"button1\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n        新增\\n      \")])],1),_vm._v(\" \"),_c('template',{slot:\"query1\"},[_c('div',{staticClass:\"common-search-wrapper\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.search($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.queryModel.name),expression:\"queryModel.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入游戏名称\"},domProps:{\"value\":(_vm.queryModel.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.queryModel, \"name\", $event.target.value)}}}),_vm._v(\" \"),_c('a',[_c('span',{staticClass:\"el-icon-search\",on:{\"click\":_vm.search}})])])])],2),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.tableList,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"label\":\"No\",\"type\":\"index\",\"width\":\"50\",\"align\":\"center\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"名称\",\"align\":\"center\",\"prop\":\"name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"游戏状态\",\"prop\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status===0?'info':'success'}},[_vm._v(\"\\n          \"+_vm._s((scope.row.status!==''&&scope.row.status!==null)?_vm.statusDictionary.filter(function (item){ return item.code===scope.row.status; })[0].name:'')+\"\\n        \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":\"\"},on:{\"click\":function($event){_vm.handleUpdate(scope)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"common-pagination-wrapper\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pagination.page,\"page-sizes\":[10,20,30,50],\"page-size\":_vm.pagination.limit,\"total\":_vm.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.pagination, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"width\":\"850px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{ref:\"formData\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\",\"prop\":\"status\"}},[_c('el-select',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},_vm._l((_vm.statusDictionary),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.code}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"置顶数\",\"prop\":\"topNumber\"}},[_c('el-input-number',{attrs:{\"min\":0,\"label\":\"描述文字\"},model:{value:(_vm.formData.topNumber),callback:function ($$v) {_vm.$set(_vm.formData, \"topNumber\", $$v)},expression:\"formData.topNumber\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_vm._v(\" \"),(_vm.dialogStatus==='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))]):_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-5f4a240f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/game/gameType.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./gameType.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./gameType.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f4a240f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./gameType.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/game/gameType.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}